!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=25)}([function(e,t){e.exports=React},function(e,t){e.exports=mobxReact},function(e,t){e.exports=mobx},function(e,t,n){e.exports=n(42)()},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(7);function a(e){if(!e)return e;e.displayMode=""+e.displayMode=="2"?"2":"1";var t=e.thumb?e.thumb:"";return(t.startsWith("static/")||""===t)&&(t=t.endsWith("w.jpg")?"".concat("/content/digenglish_lib/","/images/default_member_w.jpg"):"".concat("/content/digenglish_lib/","/images/default_member_m.jpg")),e.thumb=t,e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"pub_init",value:function(){var t=navigator.userAgent;e._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/android/i.test(t),e._tempBnd=document.createElement("div"),e._tempBnd.style.display="none",e._tempEl=document.createElement("div"),e._tempBnd.appendChild(e._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",function(t){document.body.appendChild(e._tempBnd)}):document.body.appendChild(e._tempBnd)}},{key:"pub_load",value:function(t,n,i,r,o,s){e._lesson=r,e._book=i,e._nextBook=o,e._prevBook=s,e._students=[],t&&t.forEach(function(t,n){e._students[n]=a(t)}),e._student=a(n)}},{key:"pub_reloadStudents",value:function(t){o.getStudents(function(n,i){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop();for(var r=0,o=n.length;r<o;r++)e.isDvlp?e._students[r]=a(n[r]):e._students[r]=a({id:n[r].id,name:n[r].name,thumb:n[r].defaultThumbnail,avatar:n[r].profileThumbnail,nickname:n[r].nickName,displayMode:n[r].displayMode,inited:!0}),e._students_inited.push(n[r].id);t()})}},{key:"pub_parseStyle",value:function(t){return e._tempEl.style.cssText=t,e._tempEl.style}},{key:"pub_initAudio",value:function(){e._common_audio=document.getElementById("common_audio"),e._ding_audio=document.getElementById("ding_audio"),e._dingend_audio=document.getElementById("dingend_audio"),e._btn_audio=document.getElementById("btn_audio"),e._correct_audio=document.getElementById("correct_audio"),e._wrong_audio=document.getElementById("wrong_audio"),e._topad_audio=document.getElementById("topad_audio"),e._goodjob_audio=document.getElementById("goodjob_audio"),e._btn_back_audio=document.getElementById("btn_back_audio"),e._btn_page_audio=document.getElementById("btn_page_audio"),e._card_audio=document.getElementById("card_audio"),e._popup_audio=document.getElementById("popup_audio"),e._flips_audio=document.getElementById("card_flips"),e._clock_audio=document.getElementById("clock_audio"),e._write_audio=document.getElementById("write_audio"),e._like_bubble_audio=document.getElementById("like_bubble"),e._all_btn_click_audio=document.getElementById("all_btn_click")}},{key:"pub_playAllBtnClick",value:function(){e._all_btn_click_audio&&(e._all_btn_click_audio.currentTime=0,e._all_btn_click_audio.play())}},{key:"pub_playLikeBubble",value:function(){e._like_bubble_audio&&(e._like_bubble_audio.currentTime=0,e._like_bubble_audio.play())}},{key:"pub_playWrite",value:function(){e._write_audio&&(e._write_audio.currentTime=0,e._write_audio.play())}},{key:"pub_playClock",value:function(){e._clock_audio&&(e._clock_audio.currentTime=4.5,e._clock_audio.play())}},{key:"pub_playFlips",value:function(){e._flips_audio&&(e._flips_audio.currentTime=0,e._flips_audio.play())}},{key:"pub_playPopup",value:function(){e._popup_audio&&(e._popup_audio.currentTime=0,e._popup_audio.play())}},{key:"pub_playCard",value:function(){e._card_audio&&(e._card_audio.currentTime=0,e._card_audio.play())}},{key:"pub_playBtnPage",value:function(){e._btn_page_audio&&(e._btn_page_audio.currentTime=0,e._btn_page_audio.play())}},{key:"pub_playBtnBack",value:function(){e._btn_back_audio&&(e._btn_back_audio.currentTime=0,e._btn_back_audio.play())}},{key:"pub_playGoodjob",value:function(){e._goodjob_audio&&(e._goodjob_audio.currentTime=0,e._goodjob_audio.play())}},{key:"pub_playDing",value:function(){e._ding_audio&&(e._ding_audio.currentTime=0,e._ding_audio.play())}},{key:"pub_playDingend",value:function(){e._dingend_audio&&(e._dingend_audio.currentTime=0,e._dingend_audio.play())}},{key:"pub_playToPad",value:function(){e._topad_audio&&(e._topad_audio.currentTime=0,e._topad_audio.play())}},{key:"pub_playBtnTab",value:function(){e._btn_audio&&(e._btn_audio.currentTime=0,e._btn_audio.play())}},{key:"pub_playCorrect",value:function(){e._correct_audio&&(e._correct_audio.currentTime=0,e._correct_audio.play())}},{key:"pub_playWrong",value:function(){e._wrong_audio&&(e._wrong_audio.currentTime=0,e._wrong_audio.play())}},{key:"pub_playStudentBubble",value:function(){var e=document.getElementById("student_bubble");e&&(e.currentTime=0,e.paused&&e.play())}},{key:"pub_stop",value:function(){null!=e._common_audio.onended&&e._common_audio.onended.call(e._common_audio,new Event("ended")),e._common_audio.oncanplaythrough=null,isNaN(e._common_audio.duration)||e._common_audio.paused||e._common_audio.pause()}},{key:"pub_play",value:function(t,n){e.pub_stop(),t=r.nteString(t,"");var i=r.nteString(e._common_audio.getAttribute("src"),"");if(""!==t||""!==i){""!==t&&i!==t&&(e._common_audio.src=t);var o=function t(i){e._common_audio.onended=null,null!==n&&n(!0),e._common_audio.removeEventListener("error",t)};e._common_audio.onended=function(t){e._common_audio.onended=null,null!==n&&n(!!t),e._common_audio.removeEventListener("error",o)},e._common_audio.addEventListener("error",o),isNaN(e._common_audio.duration)?(e._common_audio.oncanplaythrough=function(t){0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.play(),e._common_audio.oncanplaythrough=null},e._common_audio.load()):(0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.oncanplaythrough=null,e._common_audio.play())}else null!=n&&n(!0)}},{key:"pub_set",value:function(t,n,i){e._isDvlp=n,e._lang=i,o.set(n)}},{key:"pub_addInitedStudent",value:function(t){for(var n=!0,i=0,r=e._students_inited.length;i<r;i++){e._students_inited[i]===t.id&&(n=!1)}n&&e._students_inited.push(t.id);var o=e._start_idx>0&&e._students.length>0&&e._students_inited.length>=e._students.length;return o&&(window.clearTimeout(e._start_idx),e._start_idx=-1),o}},{key:"pub_start",value:function(t){0===e._students.length||e._students_inited.length>=e._students.length?t():e._start_idx=window.setTimeout(t,2e3)}},{key:"pub_clear",value:function(){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop()}},{key:"isMobile",get:function(){return e._isMobile}},{key:"tempEl",get:function(){return e._tempEl}},{key:"students",get:function(){return e._students}},{key:"student",get:function(){return e._student}},{key:"lang",get:function(){return e._lang}},{key:"isDvlp",get:function(){return e._isDvlp}},{key:"data_url",get:function(){return e._data_url}},{key:"lesson",get:function(){return e._lesson}},{key:"book",get:function(){return e._book}},{key:"nextBook",get:function(){return e._nextBook}},{key:"prevBook",get:function(){return e._prevBook}}],(n=null)&&i(t.prototype,n),s&&i(t,s),e}();s._isMobile=!1,s._students=[],s._students_inited=[],s._student=null,s._lang="ko",s._isDvlp=!1,s._data_url="../data/",s._lesson="",s._book="",s._nextBook=!1,s._prevBook=!1,s._start_idx=-1,s.isStarted=!1,t.App=s},function(e,t){e.exports=_},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.wait=function(e){return i(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){r.delay(t,e)}));case 1:case"end":return t.stop()}},t)}))},t.getTimeStr=function(e,t){var n=Math.round(t/1e3),i=Math.round(e/1e3),r=Math.floor(i/60),o=Math.floor(r/60),a="";return r%=60,o>0||n>=3600?(a=o+":",a+=r>=10?r+":":"0"+r+":"):n>=600?a+=r>=10?r+":":"0"+r+":":a=r+":",a+=(i%=60)>=10?i:"0"+i},t.getBounds=function(e){var t={left:0,top:0,width:0,height:0};if(!e)return t;try{var n=e.getBoundingClientRect();t.left=n.left,t.top=n.top,t.width=n.width,t.height=n.height}catch(e){}var i=e.ownerDocument,r=i.body,o=i.documentElement;t.left=t.left-(o.clientLeft||r.clientLeft||0),t.top=t.top-(o.clientTop||r.clientTop||0);var a=i.defaultView;return t.left+=a.pageXOffset||o.scrollLeft||r.scrollLeft,t.top+=a.pageYOffset||o.scrollTop||r.scrollTop,t}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=!1;t.set=function(e){o=e},t.finishContentPage=function(){if(!o)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,n){if(!o)try{window.tsoc_o.startStudentReportProcess(e,t,n)}catch(e){}},t.hideStudentReportUI=function(){if(!o)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!o)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!o)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!o)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!o)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,n){if(!o)try{window.psoc_o.uploadStudentReport(e,t,n)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||o)if(6!==e||o)if(7!==e||o){if(8===e)if(o)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(o)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,n){var i={type:t,data:n};if(o)try{window.top.tsoc_o.sendPADToID(e,i)}catch(e){}else try{window.tsoc_o.sendPADToID(e,i)}catch(e){}},t.sendPAD=function(e,t){var n={type:e,data:t};if(o)try{window.top.tsoc_o.sendAll(n)}catch(e){}else try{window.tsoc_o.sendAll(n)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){var n={type:e,data:t};if(o)try{window.opener.tsoc_o.sendTeacher(n)}catch(e){}else try{window.psoc_o.sendTeacher(n)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e){try{window.psoc_o.uploadImageToServer(e)}catch(e){}},t.getStudents=function(e){if(o)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(){if(!o)try{window.psoc_o.startCamera()}catch(e){}},t.startCustomCamera=function(e){if(!o)try{window.psoc_o.startCustomCamera(e)}catch(e){}},t.stopCamera=function(){if(!o)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(){if(!o)try{window.psoc_o.switchCamera()}catch(e){}},t.startVideoRecord=function(){if(!o)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!o)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!o)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.getPreviewResult=function(e){return i(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){if(o)t([]);else{var n=!1;window.tsoc_o.getPreviewResult(function(e){n||(n=!0,t(e))},e),r.delay(function(){n||(n=!0,t([]))},5e3)}}));case 1:case"end":return t.stop()}},t)}))},t.getPreviewDmsResult=function(e){return i(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){if(o)t([]);else{var n=!1;window.tsoc_o.getPreviewDmsResult(function(e){n||(n=!0,t(e))},e),r.delay(function(){n||(n=!0,t([]))},5e3)}}));case 1:case"end":return t.stop()}},t)}))},t.getPreviewResultClass=function(e){return i(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){if(o)t([]);else{var n=!1;window.tsoc_o.getPreviewResultClass(function(e){n||(n=!0,t(e))},e),r.delay(function(){n||(n=!0,t([]))},5e3)}}));case 1:case"end":return t.stop()}},t)}))},t.getPreviewResultMember=function(e){return i(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){if(o)t([]);else{var n=!1;window.tsoc_o.getPreviewResultMember(function(e){n||(n=!0,t(e))},e),r.delay(function(){n||(n=!0,t([]))},5e3)}}));case 1:case"end":return t.stop()}},t)}))}},function(e,t,n){"use strict";function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?l(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=n(2),_=n(1),y=function(e){function t(e){var n;return r(this,t),(n=s(this,u(t).call(this,e))).m_pID=-1,n._inited=n._inited.bind(l(n)),n._onClick=n._onClick.bind(l(n)),n}return c(t,d.Component),a(t,[{key:"_inited",value:function(e){var t=this;!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",function(n){if(!(t.m_pID>=0)){if(t.m_pID=n.pointerId,!t.props.disableCapture)try{e.setPointerCapture(t.m_pID)}catch(e){}t.props.onMouseDown&&t.props.onMouseDown(n)}}),e.addEventListener("pointerup",function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseUp&&t.props.onMouseUp(n)}}),e.addEventListener("pointerleave",function(n){if(t.props.disableCapture){if(t.m_pID!==n.pointerId)return;try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1}t.props.onMouseLeave&&t.props.onMouseLeave(n)}),e.addEventListener("pointercancel",function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseLeave&&t.props.onMouseLeave(n)}}))}},{key:"_onClick",value:function(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}},{key:"componentDidUpdate",value:function(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}]),t}();m([h.observable],y.prototype,"m_pID",void 0);var v=function(e){function t(e){var n;return r(this,t),(n=s(this,u(t).call(this,e))).m_on=!1,n.m_on=!0===e.on,n}return c(t,y),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),d.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n},this.props.children)}}]),t}();m([h.observable],v.prototype,"m_on",void 0),v=m([_.observer],v),t.ToggleBtn=v;var b=function(e){function t(e){return r(this,t),s(this,u(t).call(this,e))}return c(t,v),a(t,[{key:"play",value:function(){var e=this;this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,function(t){e.m_on&&(e.m_on=!1,e.props.onPause&&e.props.onPause(t))}))}},{key:"_onClick",value:function(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),i(u(t.prototype),"_onClick",this).call(this,e)}}]),t}();m([h.action],b.prototype,"play",null),m([h.action],b.prototype,"_onClick",null),b=m([_.observer],b),t.AudioBtn=b;var g=function(e){function t(e){var n;return r(this,t),(n=s(this,u(t).call(this,e))).m_on=!1,n.m_on=!0===e.on,n}return c(t,y),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),d.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n,src:this.props.src,useMap:this.props.useMap})}}]),t}();m([h.observable],g.prototype,"m_on",void 0),g=m([_.observer],g),t.ImgBtn=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13);Date.now||(Date.now=function(){return(new Date).getTime()});var r=0;function o(){return a().toString(36)}function a(){var e=Date.now();return e>r?r=e:r+=1,r}t.getUnic=o,t.getUnicNum=a,t.getUnicUrl=function(e){if(!e)return"";var t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+o():t+"?t="+o()),t},t.nteUInt=function(e,t){if(i.isNullOrUndefined(e))return t;if(i.isNumber(e))return isNaN(e)||e<0?t:Math.round(e);var n=parseInt(String(e),10);return isNaN(n)||n<0?t:n},t.nteInt=function(e,t){if(i.isNullOrUndefined(e))return t;if(i.isNumber(e))return Math.round(e);var n=parseInt(String(e),10);return isNaN(n)?t:n},t.nteFloat=function(e,t){if(i.isNullOrUndefined(e))return t;if(i.isNumber(e))return e;var n=parseFloat(String(e));return isNaN(n)?t:n},t.nteString=function(e,t){return i.isNullOrUndefined(e)?t:String(e)},t.nteBool=function(e,t){if(i.isNullOrUndefined(e))return t;if(i.isBoolean(e))return e;var n=String(e);return"true"===n||"false"!==n&&t},t.intToHTMLcolor=function(e){var t=e-0,n=(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16);return n="#000000".substring(0,7-n.length)+n},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){var t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}var n=[];return n.push(e),n}return[]},t.getDateStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=new Date,n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();return n+e+(i<10?"0"+i:""+i)+e+(r<10?"0"+r:""+r)},t._toStringTimestamp=function(e){var t=e.getFullYear(),n=e.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);var i=e.getDate()+"";return parseInt(i,10)<10&&(i="0"+i),t+"-"+n+"-"+i+" "+e.toTimeString().substr(0,8)}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),d=n(5),h=n(2),_=n(4),y=n(37),v=n(38),b=function(e){function t(){var e;return i(this,t),(e=a(this,u(t).call(this)))._quizInfo={qidxs:[],points:[],qtime:0,qtype:""},e.uploaded=function(t){"content"===e.state.viewDiv&&"record"===e.state.prog&&(e.state.uploaded=t)},e.notify=function(t){"content"===e.state.viewDiv&&"record"===e.state.prog&&(e.state.notice=t)},e.notifyRecorded=function(t){"content"===e.state.viewDiv&&"audio"===e.state.mediaType&&"record"===e.state.prog&&e._recorded(t,e.state.mediaType)},e.notifyVideoRecord=function(t){"content"===e.state.viewDiv&&"video"===e.state.mediaType&&"record"===e.state.prog&&e._recorded(t,e.state.mediaType)},e.state.prog="",e.state.ga_na=void 0,e.state.qidx=0,e.state.groupProg="",e.state.startSelectedAni=!1,e.state.forceStopIdx=-1,e.state.quizProg="",e.state.isGroup=!1,e.state.mediaType="audio",e.state.bRecordSend=!1,e.state.recorded="",e.state.uploaded="",e.state.notice="",e.state.groupResult="",e.actions.getWord=function(){return e._word},e.actions.getWords=function(){return e._data.page1.words},e.actions.getQuizInfo=function(){return e._quizInfo},e.actions.setQuizProg=function(t){e.state.quizProg=t},e.actions.unsetForceStop=function(){e.state.forceStopIdx=-1},e.actions.onStartRecord=function(){e.state.notice="",e.state.recorded="",_.App.isDvlp&&d.delay(function(){"video"===e.state.mediaType?e.state.notice="notifyStartVideoRecord":e.state.notice="notifyStartVoice"},300)},e.actions.onStopRecord=function(){e.state.notice="",_.App.isDvlp&&d.delay(function(){"video"===e.state.mediaType?e.notifyVideoRecord("/content/B_ls_voca/data/LS_L6_U7_L1_10_watch.mp4"):e.notifyRecorded("/content/B_ls_voca/data/LS_L6_U7_L1_SENTENCE_10_watch.mp3")},300)},e.actions.onUploadMedia=function(t){e.state.uploaded="",_.App.isDvlp&&d.delay(function(){e.state.uploaded=t},300)},e}return l(t,v.StudentContextBase),o(t,[{key:"_setViewDiv",value:function(e){this.state.viewDiv!==e&&"content"!==e&&(this.state.prog="",this.state.groupProg="",this.state.forceStopIdx=-1,this.state.ga_na=void 0),s(u(t.prototype),"_setViewDiv",this).call(this,e)}},{key:"receive",value:function(e){var n=this;if(s(u(t.prototype),"receive",this).call(this,e),10===e.type&&e.data){var i=e.data;if("quiz"===i.msgtype){var r=i;this._quizInfo.qidxs=r.qidxs,this._quizInfo.points=[];for(var o=0;o<r.qidxs.length;o++)this._quizInfo.points[o]=0;this._quizInfo.qtime=r.qtime,this._quizInfo.qtype=r.qtype,this.state.isGroup=r.isGroup,this.state.forceStopIdx=-1,this.actions.setQuizProg(""),this.state.qidx=0,this._setViewDiv("content"),this.state.groupResult="",this.state.isGroup&&(this.state.groupProg="inited"),this.state.prog="quiz"}else if("force_stop"===i.msgtype){if("content"===this.state.viewDiv&&"quiz"===this.state.prog&&(""===this.state.quizProg||"quiz"===this.state.quizProg)){var a=i;this.state.forceStopIdx=a.idx}}else if("start_quiz"===i.msgtype){if("content"===this.state.viewDiv&&"quiz"===this.state.prog&&""===this.state.quizProg){var l=i;this.state.qidx=l.qidx,this.actions.setQuizProg("quiz")}}else if("pad_gana"===i.msgtype){var c,p=i;if(_.App.student)_.App.student.id===p.ga?c="ga":_.App.student.id===p.na&&(c="na"),c&&(this._quizInfo.qidxs=[],this._quizInfo.points=[],this._quizInfo.qtime=5,this.state.isGroup=!0,this.state.ga_na=c,this.actions.setQuizProg(""),this._setViewDiv("content"),this.state.groupProg="initing",this.state.prog="quiz",this.state.startSelectedAni=!1,d.delay(function(){"initing"===n.state.groupProg&&(n.state.startSelectedAni=!0)},10))}else if("send_point"===i.msgtype){if(!this.state.isGroup)return;if("quiz"!==this.state.prog)return;if("inited"!==this.state.groupProg)return;var f=i;this._quizInfo.points[f.qidx]=f.point,this.state.qidx=f.qidx,this.state.groupProg="onquiz",this.actions.setQuizProg("")}else if("next_quiz"===i.msgtype){if(!this.state.isGroup)return;if("quiz"!==this.state.prog)return;var m=i;this.state.qidx=m.qidx,this.state.groupProg="inited",this.actions.setQuizProg("")}else if("end_quiz"===i.msgtype){if(!this.state.isGroup)return;if("quiz"!==this.state.prog)return;var h=i;h.ga_point===h.na_point?this.state.groupResult="tie":h.ga_point>h.na_point&&"ga"===this.state.ga_na?this.state.groupResult="win":h.ga_point<h.na_point&&"na"===this.state.ga_na?this.state.groupResult="win":this.state.groupResult="lose",this.state.groupProg="complete",this.actions.setQuizProg("result")}else if("spelling"===i.msgtype||"speak_audio"===i.msgtype||"speak_video"===i.msgtype||"speaking_audio"===i.msgtype||"speaking_video"===i.msgtype){var y=i,v=d.find(this._data.page1.words,{idx:y.word_idx});v&&(this._word=v,this._setViewDiv("content"),this.state.mediaType="speak_video"===i.msgtype||"speaking_video"===i.msgtype?"video":"audio","spelling"===i.msgtype?this.state.prog=i.msgtype:this.state.prog="record",this.state.bRecordSend="speak_audio"===i.msgtype||"speak_video"===i.msgtype||"speaking_audio"===i.msgtype||"speaking_video"===i.msgtype)}}}},{key:"_recorded",value:function(e,t){var n=this;this.state.notice="",d.delay(function(){"content"===n.state.viewDiv&&n.state.mediaType===t&&"record"===n.state.prog&&(n.state.recorded=e)},300)}},{key:"setData",value:function(e){for(var t=(e=y.initData(e)).page1.words,n=0;n<t.length;n++){var i=t[n];i.app_idx=n,i.app_checked=!1,i.app_studied=!1,i.app_result=!1,i.app_sound=0,i.app_meaning=0,i.app_spelling=0,i.app_sentence=0}this._word=t[0],this._data=e}}]),t}();f([h.observable],b.prototype,"state",void 0),f([h.action],b.prototype,"_setViewDiv",null),f([h.action],b.prototype,"receive",null),f([h.action],b.prototype,"notify",void 0),f([h.action],b.prototype,"notifyRecorded",void 0),t.StudentContext=b;var g=new b;t.sContext=g;var w=m.createContext(g),E=w.Provider,k=w.Consumer;t.StudentConsumer=k;var T=function(e){function t(){return i(this,t),a(this,u(t).apply(this,arguments))}return l(t,m.Component),o(t,[{key:"render",value:function(){return m.createElement(E,{value:g},this.props.children)}}]),t}();t.StudentProvider=T,t.useStudent=function(e){return function(t){return m.createElement(k,null,function(t){return m.createElement(e,Object.assign({},t))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(18),o=n(41),a=n(13);t.default=function(e){var t=e.view,n=e.preClass,s=e.inClass,u=e.position,l=e.left,c=e.right,p=e.top,f=e.bottom,m={display:!t||n<0&&s<0?"none":void 0};return a.isUndefined(u)?m.position="absolute":m.position=u,a.isUndefined(c)||(m.right=c),a.isUndefined(l)||(m.left=l),a.isUndefined(p)||(m.top=p),a.isUndefined(f)||(m.bottom=f),i.createElement("div",{className:o.className,style:m},i.createElement("div",{style:s>=0?void 0:r.NONE},i.createElement("div",null,"In-class"),i.createElement("div",null,i.createElement("span",{style:{width:s+"%"}})),i.createElement("div",null,s,"%")),i.createElement("div",{style:n<0?r.NONE:void 0},i.createElement("div",null,"Pre-class"),i.createElement("div",null,i.createElement("span",{style:{width:n+"%"}})),i.createElement("div",null,n>=0?n+"%":"")))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},r=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),u=i[n];n<o;u=i[++n])h(u)||!g(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,i){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),d(n)?i.showHidden=n:n&&t._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),c(i,e,i.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return y(r)||(r=c(e,r,i)),r}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(_(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(h(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(k(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return p(n)}var l,g="",T=!1,x=["{","}"];(m(n)&&(T=!0,x=["[","]"]),k(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(g=" "+RegExp.prototype.toString.call(n)),w(n)&&(g=" "+Date.prototype.toUTCString.call(n)),E(n)&&(g=" "+p(n)),0!==a.length||T&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=T?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(f(e,t,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,n,i,r,!0))}),o}(e,n,i,s,a):a.map(function(t){return f(e,n,i,s,t,T)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,g,x)):x[0]+g+x[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,i,r,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),O(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=h(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function m(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function h(e){return null===e}function _(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return g(e)&&"[object RegExp]"===T(e)}function g(e){return"object"==typeof e&&null!==e}function w(e){return g(e)&&"[object Date]"===T(e)}function E(e){return g(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var i=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=d,t.isNull=h,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=g,t.isDate=w,t.isError=E,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(30);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(31),t._extend=function(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise(function(e,i){t=e,n=i}),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push(function(e,i){e?n(e):t(i)});try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(N,t,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(29))},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),p=n(8),f=n(6),m=n(2),d=n(1),h=n(4),_=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=r(t).apply(this,arguments),(e=!i||"object"!==s(i)&&"function"!=typeof i?o(n):i)._playing=!1,e._nPlay=0,e.toggle=function(){e._onDown()},e._onPlay=function(){e._playing=!0,e.props.onPlay&&e.props.onPlay(),h.App.pub_play(e.props.url,e._onPlayEnd)},e._onPlayEnd=function(t){return l(o(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._nPlay>0)){e.next=8;break}if(this._nPlay=this._nPlay-1,!(this._nPlay>0)){e.next=8;break}return this._playing=!1,e.next=6,f.wait(500);case 6:return this._nPlay>0&&this._onPlay(),e.abrupt("return");case 8:this._playing&&(this._playing=!1,this.props.onStop&&this.props.onStop());case 9:case"end":return e.stop()}},e,this)}))},e._onDown=function(){e.props.disabled||(e._playing?(e._playing=!1,h.App.pub_stop(),e.props.onStop&&e.props.onStop()):(e._playing=!0,e.props.onPlay&&e.props.onPlay(),h.App.pub_play(e.props.url,e._onPlayEnd)))},e}var n,u,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,c.Component),n=t,(u=[{key:"componentWillUnmount",value:function(){this._nPlay=0,this._playing&&(this._playing=!1,h.App.pub_stop())}},{key:"componentDidUpdate",value:function(e){this.props.nPlay!==e.nPlay&&(this._nPlay=this.props.nPlay?this.props.nPlay:0,this._nPlay>0&&!this._playing&&this._onPlay())}},{key:"render",value:function(){return c.createElement(p.ToggleBtn,{className:this.props.className,view:this.props.view,on:this._playing,disabled:this.props.disabled,onMouseDown:this._onDown})}}])&&i(n.prototype,u),m&&i(n,m),t}();u([m.observable],_.prototype,"_playing",void 0),_=u([d.observer],_),t.BtnAudio=_},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),l=n(8),c=n(4),p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=o(this,a(t).apply(this,arguments)))._onClick=function(){e.props.disabled||(c.App.pub_playBtnTab(),e.props.onClick(e.props.num))},e}var n,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u.Component),n=t,(i=[{key:"render",value:function(){return u.createElement(l.ToggleBtn,{className:this.props.className+" btn-mc-"+this.props.num,on:this.props.on,onClick:this._onClick,disabled:this.props.disabled},this.props.children)}}])&&r(n.prototype,i),p&&r(n,p),t}();t.default=p},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(2),p=n(1),f=n(61),m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e)))._div=null,n._bndW=0,n._width=0,n._fontSize=0,n._myW=0,n._numOfLine=0,n._ref=function(e){!n._div&&e&&(n._div=e,n.props.onRef&&n.props.onRef(e))},n._aniFrame=function(e){n._canCalc()&&(n._calc(),window.requestAnimationFrame(n._aniFrame))},n._resized=function(e,t){n._myW=e,window.requestAnimationFrame(n._aniFrame)},n._fontSize=n.props.maxSize?n.props.maxSize:0,n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"_canCalc",value:function(){return!!this.props.view&&(!(this._myW<=0)&&(!!this._div&&!(this._width>0)))}},{key:"_calc",value:function(){if(this._canCalc()&&this._div){var e=this._div.getBoundingClientRect(),t=this._myW-e.width;if(!(t<-1||t>1)){var n=this._div.childNodes;if(0!==n.length){var i=0,r=-100,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=0;n.forEach(function(e,t){var n=0,u=0;if(e instanceof HTMLElement){var l=e,c=window.getComputedStyle(l);if("absolute"===c.position);else if("inline"===c.display){var p=c.marginRight?parseInt(c.marginRight,10):0,f=c.marginLeft?parseInt(c.marginLeft,10):0;isNaN(p)&&(p=0),isNaN(f)&&(f=0);for(var m=l.getClientRects(),d=0;d<m.length;d++){var h=m.item(d);if(h){var _=h.top,y=h.bottom,v=h.left-f,b=h.right+p;0===s?(r=(_+y)/2,i=1):(r<_||r>y)&&(r=(_+y)/2,i++),o=Math.min(o,v),a=Math.max(a,b),s++}}}else{var g=l.getBoundingClientRect(),w=c.marginRight?parseInt(c.marginRight,10):0,E=c.marginLeft?parseInt(c.marginLeft,10):0;isNaN(w)&&(w=0),isNaN(E)&&(E=0),n=w,u=E;var k=g.top,T=g.bottom,x=g.left-u,S=g.right+n;T-k>0&&(0===s?(r=(k+T)/2,i=1):(r<k||r>T)&&(r=(k+T)/2,i++),o=Math.min(o,x),a=Math.max(a,S),s++)}}else{var O=document.createRange();O.selectNodeContents(e);for(var P=O.getClientRects(),N=0;N<P.length;N++){var C=P.item(N);if(C){var j=C.top,R=C.bottom,z=C.left,D=C.right;0===s?(r=(j+R)/2,i=1):(r<j||r>R)&&(r=(j+R)/2,i++),o=Math.min(o,z),a=Math.max(a,D),s++}}}}),this._numOfLine=i;var u=this.props.maxLineNum?this.props.maxLineNum:1;if(u<1&&(u=1),i>u){var l=this.props.minSize?this.props.minSize:0;this._fontSize>0&&l>0&&this._fontSize>l?this._fontSize--:this._width=Math.ceil(a-o+2)}else s>0&&(this._width=Math.ceil(a-o+2))}}}}},{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view?(this._fontSize=this.props.maxSize?this.props.maxSize:0,this._width=0,window.requestAnimationFrame(this._aniFrame)):!this.props.view&&e.view&&(this._width=0),this.props.view&&this.props.rcalcNum&&this.props.rcalcNum!==e.rcalcNum&&(this._fontSize=this.props.maxSize?this.props.maxSize:0,this._width=0,window.requestAnimationFrame(this._aniFrame)),0===this._fontSize&&this.props.maxSize&&(this._fontSize=this.props.maxSize)}},{key:"render",value:function(){var e,t=this.props.className,n={whiteSpace:"normal"};return this._fontSize>0&&(n.fontSize=this._fontSize+"px"),this.props.lineHeight&&(n.lineHeight=this.props.lineHeight+"%"),this._width>0?(n.width=this._width+"px",n.display="inline-block",e=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=e):(n.width="100%",n.display="inline-block",this.props.viewWhenInit||(n.opacity=.01),e=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=e),l.createElement(l.Fragment,null,l.createElement("div",{ref:this._ref,className:t,style:n,onClick:this.props.onClick},this.props.children,l.createElement(f.default,{handleWidth:!0,handleHeight:!0,onResize:this._resized})))}}])&&i(n.prototype,s),u&&i(n,u),t}();u([c.observable],m.prototype,"_width",void 0),u([c.observable],m.prototype,"_fontSize",void 0),m=u([p.observer],m),t.default=m},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HIDE={opacity:0,pointerEvents:"none"};t.HIDE_ANI={opacity:0,pointerEvents:"none",transitionProperty:"opacity",transitionDuration:"0.6s"};t.NONE={display:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.Loading=function(e){var t=e.view,n={position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"};return n.backgroundImage='url("'.concat("/content/digenglish_lib/",'images/loading.svg")'),n.backgroundColor="rgba(0, 0, 0, 0.1)",n.zIndex=101,t||(n.visibility="hidden",n.zIndex=-1,n.pointerEvents="none"),i.createElement("div",{style:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);function r(e,t,n){for(var r=e.split(/\s/g),o=new RegExp(/[\.\!\?\s]/g),a=[],s=0;s<r.length;s++){var u=r[s];if(""!==u){for(var l=[],c=o.exec(u),p=0,f="";c;)c.index>p&&(f=u.substring(p,c.index),l.push(i.createElement("span",{key:t.key++},f))),f=c[0],l.push(f),p=o.lastIndex,c=o.exec(u);p<u.length&&(f=u.substring(p),l.push(i.createElement("span",{key:t.key++},f))),a.push(i.createElement("span",{key:t.key++,className:n},l.map(function(e){return e})))}}return a}t.parseBlock=function(e,t,n){for(var r=[],o=new RegExp(/\{(.*?)\}/g),a=o.exec(e),s=0,u=0,l="";a;){a.index>s&&(l=e.substring(s,a.index),r.push(l)),l=a[1];var c=n;c||(c=l),r.push(i.createElement("span",{key:u++,className:t,"data-correct":l},c)),s=o.lastIndex,a=o.exec(e)}return s<e.length&&(l=e.substring(s),r.push(l)),r},t.parseUnscramble=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.split(" "),o=!1,a=[],s=0;s<r.length;s++){var u=r[s],l=u.lastIndexOf("{"),c=u.lastIndexOf("}");o?(a[a.length-1]=a[a.length-1]+" "+u,c>l&&(o=!1)):(a.push(u),l>c&&(o=!0))}for(var p=0,f=[],m=n?[]:null,d=0;d<a.length;d++){for(var h=a[d],_=new RegExp(/\{(.*?)\}/g),y=_.exec(h),v=0,b="",g=[];y;)y.index>v&&(b=h.substring(v,y.index),g.push(b)),b=y[1],g.push(i.createElement("span",{key:p++,className:t},b)),m&&m.push(b),v=_.lastIndex,y=_.exec(h);v<h.length&&(b=h.substring(v),g.push(b)),d>0&&f.push(" "),f.push(i.createElement("div",{key:p++},g.map(function(e){return e})))}if(m&&n)for(var w,E=0;(w=m.length)>0;){var k=Math.floor(Math.random()*w);0===E&&0===k&&m.length>1||k<w&&(n.push(m[k]),m.splice(k,1),E++)}return i.createElement(i.Fragment,null,f.map(function(e){return e}))},t.sentence2jsx=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=new RegExp(/\{(.*?)\}/g),l={key:0},c=[];return e.replace(/\s\s+/gi," ").replace(/<\s*br\s*\/*\s*>/gi,"<br>").split("<br>").forEach(function(e,p){if(n){for(var f=u.exec(e),m=0,d="",h=[];f;){f.index>m&&(d=e.substring(m,f.index),h.push(r(d,l,s))),d=f[1];var _=o;_||(_=d),t=a?r(_,l,s):_,h.push(i.createElement("span",{key:l.key++,className:n,"data-correct":d},t)),m=u.lastIndex,f=u.exec(e)}m<e.length&&(d=e.substring(m),h.push(r(d,l,s))),c[p]=i.createElement(i.Fragment,{key:l.key++},h)}else c[p]=i.createElement(i.Fragment,{key:l.key++},r(e,l,s))}),c}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),m=n(2),d=n(1),h=n(5),_=n(9),y=n(8);n(53);var v=20,b=9,g=8,w=13,E=48,k=49,T=50,x=51,S=52,O=53,P=54,N=55,C=56,j=57,R=65,z=90,D=188,A=222,I=190,M=32,q=-1,B=0,L=null,H=null,U=null,F=-1,G=-1,W=null,V=null,Y=null,K=null,Q=null;var J=function e(){l(this,e),this.state="hide",this.capslock=!1,this.disableDone=!1};p([m.observable],J.prototype,"state",void 0),p([m.observable],J.prototype,"capslock",void 0),p([m.observable],J.prototype,"disableDone",void 0);var X=new J;t.state=X;var $=h.throttle(function(){if(!(F<0))if(U)if(0===F)U.done();else{var e=ee(F,X.capslock);U.keyDown(F,e)}else if(L){if(document.activeElement!==L&&L.focus(),0===F)return void(K?K():"on"===X.state&&(X.state="off"));if(F===w&&Q)return void Q();var t=_.nteInt(L.selectionStart,-1),n=_.nteInt(L.selectionEnd,-1);if(t<0||n<0)return;var i=ee(F,X.capslock),r=L.value,o=r.substring(0,t),a=r.substring(n);F===g&&t>0&&(o=o.substring(0,o.length-1));var s=o+i+a;L.value=s;var u=(o+i).length;L.setSelectionRange(u,u),W&&W(s)}else if(H){document.activeElement!==H&&H.focus();var l=_.nteInt(H.selectionStart,-1),c=_.nteInt(H.selectionEnd,-1);if(l<0||c<0||F<0)return;var p=H.value,f=p.length,m=ee(F,X.capslock);if(0===F)return void(K&&K());if(F===w)return void(Q&&Q());if(F===b)return void(V&&V());if(F===g){if(0===l&&0===c)return void(Y&&Y())}else if(G>0){if(f>G)return H.value=p.substring(0,G),H.selectionStart=G,void(H.selectionEnd=G);if(f===G&&l===G&&c===G)return void(V&&V())}var d,h=p.substring(0,l),y=p.substring(c),v=(h+m).length;if(F===g)l>0&&l===c&&(h=h.substring(0,h.length-1)),d=h+y,v=h.length,H.value=d,H.selectionStart=v,H.selectionEnd=v,W&&W(d);else{var E=(d=h+m+y).length;G>0&&E>G&&(d=d.substring(0,G)),E=d.length,(v=(h+m).length)>E&&(v=E),H.value=d,H.selectionStart=v,H.selectionEnd=v,W&&W(d),G>0&&v>=E&&V&&V()}}},60),Z=function e(t){F<0?$.cancel():(B>30&&$(),B++,q=window.requestAnimationFrame(e))};function ee(e,t){var n;return e===M?" ":e===b?"\t":e===w?"\n":e===g?"":e===D?t?"-":",":e===A?t?'"':"'":e===I?t?"?":".":e>=R&&e<=z?(n=String.fromCharCode(e),t?n:n.toLowerCase()):t?e===E?")":e===k?"!":e===T?"@":e===x?"#":e===S?"$":e===O?"%":e===P?"^":e===N?"&":e===C?"*":e===j?"(":"":String.fromCharCode(e)}t.setCallback=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;W=e,Y=t,V=n,K=i,Q=r},t.setInputs=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&"keyDown"in(t=e)&&"done"in t?(U=e,H=null,L=null):e instanceof HTMLTextAreaElement?(L=e,H=null,U=null):e instanceof HTMLInputElement?(H=e,L=null,U=null):(H=null,L=null,U=null,F=-1),G=n};var te=function(e){function t(e){var n;return l(this,t),(n=o(this,a(t).call(this,e)))._keyDown=function(){n.props.keyCode!==v?(q>=0&&(window.cancelAnimationFrame(q),q=-1),$.cancel(),F=n.props.keyCode,$(),B=0,q=window.requestAnimationFrame(Z)):X.capslock=!X.capslock},n._keyUp=function(){B=0,q>=0&&(window.cancelAnimationFrame(q),q=-1),$.cancel(),F=-1},n._leave=function(){B=0,q>=0&&(window.cancelAnimationFrame(q),q=-1),$.cancel(),F=-1},n}return s(t,f.Component),r(t,[{key:"render",value:function(){return f.createElement(y.ToggleBtn,{className:this.props.className,onMouseDown:this._keyDown,onMouseUp:this._keyUp,onMouseLeave:this._leave,disableCapture:!0,on:this.props.on},this.props.children)}}]),t}(),ne=function(e){function t(){var e;return l(this,t),(e=o(this,a(t).apply(this,arguments)))._on=function(){"off"===X.state&&(X.state="on")},e._off=function(){"on"===X.state&&(X.state="off")},e}return s(t,f.Component),r(t,[{key:"render",value:function(){var e=X.state,t=X.capslock,n=X.disableDone;return f.createElement("div",{className:"keyboard-box "+e+(t?" uppercase":"")},f.createElement("div",null,f.createElement(te,{className:"s",keyCode:k},ee(k,t)),f.createElement(te,{className:"s",keyCode:T},ee(T,t)),f.createElement(te,{className:"s",keyCode:x},ee(x,t)),f.createElement(te,{className:"s",keyCode:S},ee(S,t)),f.createElement(te,{className:"s",keyCode:O},ee(O,t)),f.createElement(te,{className:"s",keyCode:P},ee(P,t)),f.createElement(te,{className:"s",keyCode:N},ee(N,t)),f.createElement(te,{className:"s",keyCode:C},ee(C,t)),f.createElement(te,{className:"s",keyCode:j},ee(j,t)),f.createElement(te,{className:"s",keyCode:E},ee(E,t)),f.createElement(te,{className:"s",keyCode:D},ee(D,t)),f.createElement(te,{className:"s",keyCode:A},ee(A,t)),f.createElement(te,{className:"s",keyCode:I},ee(I,t)),f.createElement(te,{className:"s key_back",keyCode:g})),f.createElement("div",null,f.createElement(te,{className:"m alpha",keyCode:81},ee(81,t)),f.createElement(te,{className:"m alpha",keyCode:87},ee(87,t)),f.createElement(te,{className:"m alpha",keyCode:69},ee(69,t)),f.createElement(te,{className:"m alpha",keyCode:82},ee(82,t)),f.createElement(te,{className:"m alpha",keyCode:84},ee(84,t)),f.createElement(te,{className:"m alpha",keyCode:89},ee(89,t)),f.createElement(te,{className:"m alpha",keyCode:85},ee(85,t)),f.createElement(te,{className:"m alpha",keyCode:73},ee(73,t)),f.createElement(te,{className:"m alpha",keyCode:79},ee(79,t)),f.createElement(te,{className:"m alpha",keyCode:80},ee(80,t)),f.createElement(te,{className:"b key_shift",on:X.capslock,keyCode:v})),f.createElement("div",null,f.createElement(te,{className:"m alpha",keyCode:R},ee(R,t)),f.createElement(te,{className:"m alpha",keyCode:83},ee(83,t)),f.createElement(te,{className:"m alpha",keyCode:68},ee(68,t)),f.createElement(te,{className:"m alpha",keyCode:70},ee(70,t)),f.createElement(te,{className:"m alpha",keyCode:71},ee(71,t)),f.createElement(te,{className:"m alpha",keyCode:72},ee(72,t)),f.createElement(te,{className:"m alpha",keyCode:74},ee(74,t)),f.createElement(te,{className:"m alpha",keyCode:75},ee(75,t)),f.createElement(te,{className:"m alpha",keyCode:76},ee(76,t)),f.createElement(te,{className:"b key_enter",keyCode:w})),f.createElement("div",null,f.createElement(te,{className:"m alpha",keyCode:z},ee(z,t)),f.createElement(te,{className:"m alpha",keyCode:88},ee(88,t)),f.createElement(te,{className:"m alpha",keyCode:67},ee(67,t)),f.createElement(te,{className:"m alpha",keyCode:86},ee(86,t)),f.createElement(te,{className:"m alpha",keyCode:66},ee(66,t)),f.createElement(te,{className:"m alpha",keyCode:78},ee(78,t)),f.createElement(te,{className:"m alpha",keyCode:77},ee(77,t)),f.createElement(te,{className:"b key_space",keyCode:M}),f.createElement(te,{className:"b done"+(n?" dis":""),keyCode:0})),f.createElement(y.ToggleBtn,{className:"key_hide",onClick:this._off}),f.createElement(y.ToggleBtn,{className:"key_view",onClick:this._on}))}}]),t}();ne=p([d.observer],ne),t.Keyboard=ne},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(2),p=n(1),f=n(55),m=n(9),d=.3,h=.5,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e))).m_btnH=0,n.m_max=0,n.m_sy=-1,n.m_vy=-1,n.m_time=-1,n.m_bSend=!1,n.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},n._ref=function(e){if(!(n.m_max>0)&&e){e.setAttribute("touch-action","none");var t=window.getComputedStyle(e),i=m.nteFloat(t.height,0),r=m.nteFloat(t.bottom,0);i>0&&(n.m_btnH=i,n.m_max=i+r+10,n.props.view||(n.m_state.y=n.m_max))}},n._down=function(e){n.m_state.isOn||n.m_state.disabled||(n.m_state.y=n.props.originY,n.m_state.alpha=1,n.m_state.tDur=0,n.m_state.aDur=0,n.m_state.isOn=!0,n.m_vy=0,n.m_time=Date.now())},n._start=function(e,t){n.m_sy=t.y,n.m_bSend=!0},n._drag=function(e,t){if(n.m_state.isOn&&!n.m_state.disabled){var i=t.y-n.m_sy;"teacher"===n.props.type?(t.deltaY<-1?n.m_bSend=!1:t.deltaY>=0&&(n.m_bSend=!0),i<0&&(i=0)):(t.deltaY>1?n.m_bSend=!1:t.deltaY<=0&&(n.m_bSend=!0),i>0&&(i=0)),!1===n.props.preventDrag&&(n.m_state.y=i+n.props.originY);var r=Date.now();n.m_vy=t.deltaY/(r-n.m_time),n.m_time=r}},n._stop=function(e,t){if(n.m_state.isOn&&!n.m_state.disabled)if(n.m_bSend){var i=n.m_vy*h*1e3,r=t.y-n.m_sy;"teacher"===n.props.type?(i<n.m_btnH?i=n.m_btnH:i>4*n.m_btnH&&(i=4*n.m_btnH),r<0&&(r=0)):(-1*i<n.m_btnH?i=-n.m_btnH:-1*i>4*n.m_btnH&&(i=-4*n.m_btnH),r>0&&(r=0)),n.m_state.tDur=h,n.m_state.aDur=h,n.m_state.alpha=0,n.m_state.y=r+i+n.props.originY,n.props.onSend()}else n.m_state.isOn=!1,n.m_state.tDur=d,n.m_state.aDur=0,n.m_state.y=n.props.originY},e.sended?(n.m_state.alpha=0,n.m_state.disabled=!0):e.view?(n.m_state.y=e.originY,n.m_state.alpha=1,n.m_state.tDur=d,n.m_state.aDur=0,n.m_state.isOn=!1,n.m_state.disabled=!1):e.view||(n.m_state.y=e.originY,n.m_state.alpha=0,n.m_state.tDur=d,n.m_state.aDur=d,n.m_state.isOn=!1,n.m_state.disabled=!0),n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillReceiveProps",value:function(e){e.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view&&!this.props.view?(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=d):(this.m_state.tDur=d,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!e.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=d,this.m_state.aDur=d,this.m_state.isOn=!1,this.m_state.disabled=!0):!e.view||e.sended||this.m_state.isOn||e.originY===this.props.originY||(this.m_state.y=e.originY,this.m_state.tDur=d,this.m_state.aDur=0)}},{key:"render",value:function(){var e=this.m_state,t=e.y,n=e.tDur,i=e.aDur,r=e.alpha,o=e.isOn,a=e.disabled,s={transform:"translateY(".concat(t,"px)"),transition:"transform ".concat(n,"s, opacity ").concat(i/2,"s ").concat(i/2,"s"),opacity:r,pointerEvents:a||!this.props.view?"none":"auto"},u=[];return"pad"===this.props.type?u.push("fel_toteacher"):u.push("fel_topad"),o&&u.push("on"),l.createElement(f.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},l.createElement("button",{ref:this._ref,className:u.join(" "),style:s}))}}])&&i(n.prototype,s),u&&i(n,u),t}();u([c.observable],_.prototype,"m_state",void 0),_=u([p.observer],_),t.default=_},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,i){return e[0]===t&&(n=i,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;var s=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function s(){n&&(n=!1,e()),i&&l()}function u(){o(s)}function l(){var e=Date.now();if(n){if(e-r<a)return;i=!0}else n=!0,i=!1,setTimeout(u,t);r=e}return l}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},m=b(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+d(e["border-"+n+"-width"])},0)}function _(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return m;var i=f(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=d(o)}return t}(i),o=r.left+r.right,a=r.top+r.bottom,s=d(i.width),u=d(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==t&&(s-=h(i,"left","right")+o),Math.round(u+a)!==n&&(u-=h(i,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return b(r.left,r.top,s,u)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return i?y(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):_(e):m}function b(e,t,n,i){return{x:e,y:t,width:n,height:i}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(){return function(e,t){var n,i,r,o,a,s,u,l=(i=(n=t).x,r=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),p(u,{x:i,y:r,width:o,height:a,top:r,right:i+o,bottom:a+r,left:i}),u);p(this,{target:e,contentRect:l})}}(),E=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!=typeof WeakMap?new WeakMap:new n,T=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new E(t,n,this);k.set(this,i)}}();["observe","unobserve","disconnect"].forEach(function(e){T.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}});var x=void 0!==r.ResizeObserver?r.ResizeObserver:T;t.a=x}).call(this,n(12))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(12))},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),r=n(0),o=n(17),a=n(4),s=n(7),u=n(32);i.setConfig({ErrorOverlay:function(e){return r.createElement("div",null)}});var l,c={clear:a.App.pub_clear,importLink:u.importLink,importHTML:u.importHTML},p=!0;l=n(33),p=!1;var f=!1,m=l,d=m.default,h=m.AppProvider,_=m.appContext;c.set=function(e,t,n){a.App.pub_set(e,t,n),_.setData(e)},c.render=function(){a.App.pub_initAudio(),o.render(r.createElement(h,null,r.createElement(d,null)),document.getElementById("wrap"))},p?(c.init=function(e,t,n,i,r){a.App.pub_load(e,null,t,n,i,r)},c.start=function(){f=!0,setTimeout(function(){return _.start()},500)},c.receive=function(e){if(4===e.type){var t=e.data;f?t&&t.id&&""!==t.id&&(a.App.isStarted?s.sendPADToID(t.id,0,null):s.sendPADToID(t.id,1,null)):a.App.pub_addInitedStudent(t)&&(f||(f=!0,_.start()))}else _.receive(e)},c.teachingTool=function(e){}):(c.init=function(e,t,n,i,r){s.disableSoftwareKeyboard(),a.App.pub_load(null,e,t,n,i,r),s.sendTeacher(4,e)},c.receive=function(e){null!=a.App.student&&_.receive(e)},c.notifyUploadToServerResult=function(e){console.log("app_o['notifyUploadToServerResult']"),_.uploaded(e)},c.notify=function(e){_.notify(e)},c.notifyVideoRecord=function(e){_.notifyVideoRecord(e)},c.notifyStartVoice=function(){_.notify("notifyStartVoice")},c.notifyVoiceRecordResult=function(e){_.notifyRecorded(e)},c.notifyTakePicture=function(e,t){_.notifyTakePicture&&_.notifyTakePicture(e,t)}),n(60),e.app_o=c}).call(this,n(12))},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n(0))&&"object"==typeof i&&"default"in i?i.default:i;t.AppContainer=function(e){return r.Children.only(e.children)},t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,l=[],c=!1,p=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&m())}function m(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||s(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importHTML=function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=function(e){if(e){var r=i.response;r&&r.body&&r.body.firstElementChild?t(r.body.firstElementChild):r&&r.documentElement?t(r.documentElement):n("error")}},i.onerror=function(e){n(e)},i.send(null)})},t.importLink=function(e,t){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=function(e){if(e){var n=i.response;t(n)}},i.onerror=function(e){n(e)},i.send(null)})}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=n(34),f=n(35),m=n(36),d=n(10);t.appContext=d.sContext,t.AppProvider=d.StudentProvider;var h=n(19),_=n(39),y=n(52),v=n(56);n(58),n(59);var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,o(t).apply(this,arguments))}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"render",value:function(){var e=this.props,t=e.state,n=e.actions,i="direction"===t.viewDiv?0:-1280;n.getWords();return l.createElement(l.Fragment,null,l.createElement("div",{id:"preload_hidden"},l.createElement("span",null,"가나다라"),l.createElement("span",{style:{fontWeight:"bold"}},"가나다라")),l.createElement(f.SVGBg,Object.assign({className:"bg_svg",data:"/content/digenglish_lib/images/theme0_bg.svg"},t.svg_bg)),l.createElement("div",{className:"content-container"},l.createElement("div",{className:"content-wrapper",style:{left:i+"px"}},l.createElement("div",null,l.createElement(m.default,{className:"video-direction",view:"direction"===t.viewDiv,on:t.directionON,isTeacher:!1,video_url:"/content/digenglish_lib/direction/ls_rw_voca.webp",video_frame:125})),l.createElement("div",null,l.createElement(_.default,null),l.createElement(y.default,null),l.createElement(v.default,null),l.createElement(h.Loading,{view:t.loading}),l.createElement(f.SVGAni,{className:"goodjob-svg",view:t.goodjob,delay:2e3,data:"".concat("/content/digenglish_lib/","images/goodjob_ls.svg"),onComplete:n.goodjobComplete}),l.createElement(f.SVGEmbed,{className:"eyeon_svg",data:"".concat("/content/digenglish_lib/","images/eyeon_ls.svg"),view:"eyeon"===t.viewDiv||"direction"===t.viewDiv,bPlay:!1})))))}}])&&i(n.prototype,s),u&&i(n,u),t}();b=u([c.observer],b);var g=d.useStudent(function(e){return l.createElement(c.Observer,null,function(){return l.createElement(b,{state:e.state,actions:e.actions})})});t.default=p.hot(g)},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){"use strict";function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?l(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=n(13),_=n(1),y=n(2),v=n(5),b=function(e){function t(e){var n;return r(this,t),(n=s(this,u(t).call(this,e))).m_obj=null,n.m_svg=null,n.m_bPlay=!1,n._ref=n._ref.bind(l(n)),n}return c(t,d.Component),a(t,[{key:"_init",value:function(){if(!this.m_svg&&this.m_obj){var e=this.m_obj;null===this.m_svg&&null!==e.contentDocument&&null!==e.contentDocument.firstElementChild&&"svg"===e.contentDocument.firstElementChild.tagName.toLowerCase()&&(this.m_svg=e.contentDocument.firstElementChild)}}},{key:"_ref",value:function(e){var t=this;!this.m_obj&&e&&(this.m_obj=e,null==e.contentDocument||null==e.contentDocument.firstElementChild||"svg"!==e.contentDocument.firstElementChild.tagName.toLowerCase()?e.onload=e.oncanplay=e.onloadeddata=function(e){t.m_svg||(t._init(),t.m_bPlay?t._play(-1):t._pause(-1))}:this._pause(-1))}},{key:"_play",value:function(e){if(this.m_bPlay=!0,this._init(),null!=this.m_svg)try{e>=0&&this.m_svg.setCurrentTime(e),this.m_svg.animationsPaused()&&this.m_svg.unpauseAnimations()}catch(e){}}},{key:"_pause",value:function(e){if(this.m_bPlay=!1,this._init(),null!=this.m_svg)try{e>=0&&this.m_svg.setCurrentTime(e),this.m_svg.animationsPaused()||this.m_svg.pauseAnimations()}catch(e){}}},{key:"componentDidUpdate",value:function(e){if(this.props.bPlay!==e.bPlay||this.props.time!==e.time){var t=h.isUndefined(this.props.time)?-1:this.props.time;this.props.bPlay?this._play(t):this._pause(t)}}},{key:"render",value:function(){var e={};return this.props.view||(e.zIndex=-1,e.visibility="hidden",e.pointerEvents="none"),d.createElement("object",{className:this.props.className,ref:this._ref,data:this.props.data,type:"image/svg+xml",style:e})}}]),t}();t.SVGEmbed=b;var g=function(e){function t(){var e;return r(this,t),(e=s(this,u(t).apply(this,arguments))).m_character=null,e}return c(t,b),a(t,[{key:"_init",value:function(){i(u(t.prototype),"_init",this).call(this),!this.m_character&&this.m_svg&&(this.m_character=this.m_svg.querySelector("#character"),this.m_character&&this.m_character.setAttribute("opacity",this.props.viewCharactor?"1":"0"))}},{key:"componentDidUpdate",value:function(e){i(u(t.prototype),"componentDidUpdate",this).call(this,e),this.m_character&&this.props.viewCharactor!==e.viewCharactor&&this.m_character.setAttribute("opacity",this.props.viewCharactor?"1":"0")}}]),t}();t.SVGBg=g;var w=function(e){function t(e){var n;return r(this,t),(n=s(this,u(t).call(this,e))).m_play=!1,n}return c(t,d.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.view&&!e.view){this.m_play=!0;var n=this.props.delay;n||(n=800),v.delay(function(){t.props.onComplete()},n)}else!this.props.view&&e.view&&(this.m_play=!1)}},{key:"render",value:function(){return d.createElement(b,{className:this.props.className,data:this.props.data,view:this.props.view,time:0,bPlay:this.m_play})}}]),t}();m([y.observable],w.prototype,"m_play",void 0),w=m([_.observer],w),t.SVGAni=w},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),p=n(2),f=n(1),m=n(5),d=n(6),h=n(18),_=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=r(t).call(this,e),(n=!a||"object"!==s(a)&&"function"!=typeof a?o(i):a).m_on=!1,n.m_clipView=!1,n.m_imgDiv=null,n._refImg=function(e){e&&void 0!==n.props.video_url&&""!==n.props.video_url&&(n.m_imgDiv=e,n.m_clipView||m.delay(function(){n.m_imgDiv&&(n.m_clipView=!0)},1250))},n._onClick=function(){n.props.isTeacher&&n._off()},n._off=function(){return l(o(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.view||!this.m_on){e.next=6;break}return this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),e.next=5,d.wait(500);case 5:this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd();case 6:case"end":return e.stop()}},e,this)}))},n.m_on=e.view&&e.on,n}var n,u,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,c.Component),n=t,(u=[{key:"_on",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.m_on=!0;case 1:case"end":return e.stop()}},e,this)}))}},{key:"componentDidUpdate",value:function(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}},{key:"render",value:function(){var e=[];return e.push(this.props.className),this.props.view?this.m_on&&e.push("on"):e.push("hide"),c.createElement("div",{className:e.join(" "),onClick:this._onClick},this.props.children,c.createElement("img",{className:"movieclip",src:this.props.video_url,ref:this._refImg,style:this.m_clipView?void 0:h.HIDE}),c.createElement("div",{className:"direction"}))}}])&&i(n.prototype,u),p&&i(n,p),t}();u([p.observable],_.prototype,"m_on",void 0),u([p.observable],_.prototype,"m_clipView",void 0),u([p.action],_.prototype,"_off",void 0),_=u([f.observer],_),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initData=function(e){var t=e.page1.words,n=e.page1.quiz_sounds,i=e.page1.quiz_meanings,r=e.page1.quiz_usages,o=e.page1.quiz_spellings;return t.forEach(function(e){n.some(function(t){return t.idx===e.idx&&(e.quiz_sound=t,!0)}),i.some(function(t){return t.idx===e.idx&&(e.quiz_meaning=t,!0)}),r.some(function(t){return t.idx===e.idx&&(e.quiz_usage=t,!0)}),o&&o.some(function(t){return t.idx===e.idx&&(e.quiz_spelling=t,!0)})}),e}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(4),u=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={viewDiv:"direction",directionON:!1,loading:!1,goodjob:!1,likeSet:{on:!1,id:""},likeSoundOff:!1,svg_bg:{view:!0,bPlay:!1,viewCharactor:!0}},this.actions={startGoodJob:function(){t.state.goodjob=!0},goodjobComplete:function(){t.state.goodjob=!1},setLoading:function(e){t.state.loading=e}},this.uploaded=function(e){},this.notify=function(e){},this.notifyRecorded=function(e){},this.notifyVideoRecord=function(e){}}var t,n,r;return t=e,(n=[{key:"_setViewDiv",value:function(e){this.state.viewDiv!==e&&(s.App.pub_stop(),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1),this.state.loading=!1,this.state.goodjob=!1,this.state.likeSet.on=!1,this.state.likeSet.id="",this.state.viewDiv=e)}},{key:"start",value:function(){}},{key:"receive",value:function(e){switch(e.type){case 1:"direction"===this.state.viewDiv?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):this._setViewDiv("direction");break;case 3:this.state.directionON=!1;break;case 0:this._setViewDiv("eyeon");break;case 12:var t=e.data;"content"===this.state.viewDiv&&(this.state.likeSet.on=t.on,this.state.likeSet.id=t.id),this.state.likeSoundOff=!1;break;case 17:this.state.likeSoundOff=!0;break;case 16:this.state.likeSoundOff=!1}}}])&&i(t.prototype,n),r&&i(t,r),e}();o([a.observable],u.prototype,"state",void 0),o([a.action],u.prototype,"_setViewDiv",null),o([a.action],u.prototype,"receive",null),t.StudentContextBase=u},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=n(10),f=n(40),m=n(44),d=n(45),h=n(46),_=n(47),y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=r(this,o(t).apply(this,arguments)))._quizs=[],e._qtype="",e._isGroup=!1,e._qtime=60,e}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillUpdate",value:function(e){var t=!1;if(e.view&&!this.props.view?t=!0:e.state.isGroup&&"inited"===e.groupProg&&"initing"===this.props.groupProg&&(t=!0),t){for(;this._quizs.length>0;)this._quizs.pop();for(var n=e.actions.getQuizInfo(),i=e.actions.getWords(),r=n.qtime,o=0;o<n.qidxs.length;o++){var a=i[n.qidxs[o]];a.app_result=!1,this._quizs[o]=a}this._qtype=n.qtype,this._isGroup=e.state.isGroup,this._qtime=r}}},{key:"render",value:function(){var e,t=this.props,n=t.view,i=(t.quizProg,t.state),r=t.groupProg,o=t.actions,a=t.qidx,s=t.forceStopIdx,u=t.groupResult,c=o.getQuizInfo().points;return"sound"===this._qtype?e=f.default:"meaning"===this._qtype?e=m.default:"spelling"===this._qtype?e=d.default:"usage"===this._qtype&&(e=h.default),l.createElement(_.default,{view:n,className:"s_quiz",isGroup:this._isGroup,quizProg:i.quizProg,qidx:a,forceStopIdx:s,groupProg:r,groupResult:u,qtype:this._qtype,qtime:this._qtime,points:c,ga_na:i.ga_na,startSelectedAni:i.startSelectedAni,quizs:this._quizs,ItemComponent:e,unsetForceStop:o.unsetForceStop,setQuizProg:o.setQuizProg})}}])&&i(n.prototype,s),u&&i(n,u),t}();y=u([c.observer],y);var v=p.useStudent(function(e){return l.createElement(c.Observer,null,function(){return l.createElement(y,{view:"content"===e.state.viewDiv&&"quiz"===e.state.prog,quizProg:e.state.quizProg,forceStopIdx:e.state.forceStopIdx,qidx:e.state.qidx,groupProg:e.state.groupProg,state:e.state,actions:e.actions,groupResult:e.state.groupResult})})});t.default=v},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=n(4),f=n(14),m=n(15),d=n(11),h=n(2),_=n(16),y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=r(this,o(t).apply(this,arguments)))._nPlay=0,e._selected=0,e._btnAudioDisabled=!0,e._onMc=function(t){if(e.props.on&&"quiz"===e.props.quizProg){if(e._selected===t?e._selected=0:e._selected=t,!e.props.isTeacher){var n=e.props.quiz;n.app_result=e._selected===n.quiz_sound.correct}e.props.onItemChange&&e.props.onItemChange(e.props.idx,e._selected+"")}},e._onStop=function(){e.props.on&&e._nPlay>0&&"quiz"===e.props.quizProg&&(e._nPlay=0,e.props.onSoundComplete(e.props.idx),e._btnAudioDisabled=!1)},e}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillUnmount",value:function(){this._nPlay=0,this._selected=0}},{key:"componentDidUpdate",value:function(e){this.props.on&&!e.on?(this.props.isTeacher&&(this._selected=0),this.props.isTeacher&&"quiz"===this.props.quizProg?(this._nPlay=2,this._btnAudioDisabled=!0):(this._nPlay=0,this._btnAudioDisabled=!1)):!this.props.on&&e.on&&(this._nPlay=0,this.props.isTeacher&&(this._selected=0)),!this.props.view&&e.view&&(this._selected=0)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isGroup,t.group,t.isTeacher),i=t.quizProg,r=t.hasPreview,o=t.percent,a=this.props.quiz,s=a.quiz_sound,u=s.correct,c=[s.choice1,s.choice2,s.choice3,s.choice4];return""===s.choice4&&(c=[s.choice1,s.choice2,s.choice3]),l.createElement(l.Fragment,null,l.createElement(d.default,{view:n&&"result"===i,preClass:r?a.app_sound:-1,inClass:o,top:65,right:110}),l.createElement(f.BtnAudio,{className:"btn_audio"+(n?"":" "+i),url:p.App.data_url+a.audio,nPlay:this._nPlay,onStop:this._onStop,disabled:this._btnAudioDisabled}),l.createElement("div",{className:""===s.choice4?"mc-box-three":"mc-box"},c.map(function(t,r){var o,a=["quiz_box"],c=e._selected,p=t.length;return o=p<=10?" big":p<=13?" middle":" small","result"===i&&(n?(u===r+1&&a.push("correct"),c=0):(u===r+1?a.push("correct"):c===r+1&&a.push("wrong"),c=0)),""===s.choice4?l.createElement("div",{key:r},l.createElement(m.default,{key:r,className:a.join(" ")+o,num:r+1,on:c===r+1,onClick:e._onMc,disabled:"quiz"!==e.props.quizProg},l.createElement(_.default,{view:e.props.view,lineHeight:120,viewWhenInit:!0},l.createElement("span",{className:o},t)))):l.createElement(m.default,{key:r,className:a.join(" ")+o,num:r+1,on:c===r+1,onClick:e._onMc,disabled:"quiz"!==e.props.quizProg},l.createElement(_.default,{view:e.props.view,lineHeight:120,viewWhenInit:!0},l.createElement("span",{className:o},t)))})))}}])&&i(n.prototype,s),u&&i(n,u),t}();u([h.observable],y.prototype,"_nPlay",void 0),u([h.observable],y.prototype,"_selected",void 0),u([h.observable],y.prototype,"_btnAudioDisabled",void 0),y=u([c.observer],y),t.default=y},function(e,t,n){e.exports={className:"pre-in-class-box"}},function(e,t,n){"use strict";var i=n(43);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=n(2),f=n(4),m=n(14),d=n(15),h=n(11),_=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=r(this,o(t).apply(this,arguments)))._nPlay=0,e._selected=0,e._btnAudioDisabled=!0,e._onMc=function(t){if(e.props.on&&"quiz"===e.props.quizProg){if(e._selected===t?e._selected=0:e._selected=t,!e.props.isTeacher){var n=e.props.quiz;n.app_result=e._selected===n.quiz_meaning.correct}e.props.onItemChange&&e.props.onItemChange(e.props.idx,e._selected+"")}},e._onStop=function(){e.props.on&&e._nPlay>0&&"quiz"===e.props.quizProg&&(e._nPlay=0,e.props.onSoundComplete(e.props.idx),e._btnAudioDisabled=!1,console.log("end?, click ok"))},e}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillUnmount",value:function(){this._nPlay=0,this._selected=0,this._btnAudioDisabled=!0}},{key:"componentDidUpdate",value:function(e){this.props.on&&!e.on?(this.props.isTeacher&&(this._selected=0),this.props.isTeacher&&"quiz"===this.props.quizProg?(this._nPlay=2,this._btnAudioDisabled=!0):(this._nPlay=0,this._btnAudioDisabled=!1)):!this.props.on&&e.on&&(this._nPlay=0,this.props.isTeacher&&(this._selected=0)),!this.props.view&&e.view&&(this._selected=0)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isGroup,t.group,t.isTeacher),i=t.quizProg,r=t.hasPreview,o=t.percent,a=this.props.quiz,s=a.quiz_meaning,u=s.correct,c=[s.choice1,s.choice2,s.choice3];return l.createElement(l.Fragment,null,l.createElement(h.default,{view:n&&"result"===i,preClass:r?a.app_meaning:-1,inClass:o,top:65,right:110}),l.createElement(m.BtnAudio,{className:"btn_audio"+(n?"":" "+i),url:f.App.data_url+a.audio,nPlay:this._nPlay,onStop:this._onStop,disabled:this._btnAudioDisabled}),l.createElement("div",{className:"word"},a.entry),l.createElement("div",{className:"mean"},c.map(function(t,r){var o=["quiz_box"],a=e._selected;return"result"===i&&(n?(u===r+1&&o.push("correct"),a=0):(u===r+1?o.push("correct"):a===r+1&&o.push("wrong"),a=0)),l.createElement(d.default,{key:r,className:o.join(" "),num:r+1,on:a===r+1,onClick:e._onMc,disabled:"quiz"!==e.props.quizProg},t)})))}}])&&i(n.prototype,s),u&&i(n,u),t}();u([p.observable],_.prototype,"_nPlay",void 0),u([p.observable],_.prototype,"_selected",void 0),u([p.observable],_.prototype,"_btnAudioDisabled",void 0),_=u([c.observer],_),t.default=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=n(2),_=n(1),y=n(8),v=n(6),b=n(4),g=n(14),w=n(11),E=function(e){function t(){var e;return i(this,t),(e=a(this,u(t).apply(this,arguments))).src=null,e._el=null,e._onRef=function(t){!e._el&&t&&(e._el=t)},e}return l(t,d.Component),o(t,[{key:"reset",value:function(){this.src=null}},{key:"componentWillMount",value:function(){this.props.onMountTgt(this,this.props.idx)}},{key:"render",value:function(){var e,t=this.props,n=(t.idx,t.char);return e=this.props.isTeacher||"result"!==this.props.quizProg?"":this.src&&this.props.char===this.src.props.char?"correct":"wrong",d.createElement("span",{className:"pz-tgt "+e,ref:this._onRef},d.createElement("span",null,n))}},{key:"el",get:function(){return this._el}}]),t}(),k=function(e){function t(){var e;return i(this,t),(e=a(this,u(t).apply(this,arguments)))._el=null,e.tgt=null,e._bRapid=!1,e._moving=!1,e._left=0,e._top=0,e._onRef=function(t){e._el||(e._el=t)},e._onDown=function(){e._el&&!e.props.disabled&&e.props.onDown(s(e))},e}return l(t,d.Component),o(t,[{key:"reset",value:function(){this.tgt=null,this._bRapid=!0,this._left=0,this._top=0,this._moving=!1}},{key:"componentWillMount",value:function(){this.props.onMountSrc(this,this.props.idx)}},{key:"setTgt",value:function(e,t){return m(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this._el,this._bRapid=t,i){n.next=4;break}return n.abrupt("return");case 4:if(!e){n.next=17;break}if(r=e.el){n.next=8;break}return n.abrupt("return");case 8:e.src=this,this.tgt=e,o=r.getBoundingClientRect(),a=i.getBoundingClientRect(),this._moving=!t,this._left=(o.left+o.right)/2-(a.left+a.right)/2,this._top=(o.top+o.bottom)/2-(a.top+a.bottom)/2,n.next=22;break;case 17:this.tgt&&this.tgt.reset(),this.tgt=null,this._moving=!t,this._left=0,this._top=0;case 22:if(!this._moving){n.next=26;break}return n.next=25,v.wait(500);case 25:this._moving=!1;case 26:case"end":return n.stop()}},n,this)}))}},{key:"render",value:function(){var e=this.props,t=(e.idx,e.char),n=e.disabled,i=e.quizProg,r=e.isTeacher,o={left:this._left+"px",top:this._top+"px",zIndex:this._moving?2:0,transition:this._bRapid?"unset":"left 0.3s ease-in, top 0.3s ease-in"};return r||"result"!==i||(this.tgt?this.tgt&&this.props.char!==this.tgt.props.char&&(o.color="rgba(238, 26, 47, 0.8)",o.background="transparent",o.top="-60px"):(o.opacity=0,o.pointerEvents="none")),d.createElement(y.ToggleBtn,{className:"pz-src",style:o,disabled:n,onRef:this._onRef,onMouseDown:this._onDown},t)}},{key:"el",get:function(){return this._el}},{key:"moving",get:function(){return this._moving}}]),t}();f([h.observable],k.prototype,"_moving",void 0),f([h.observable],k.prototype,"_left",void 0),f([h.observable],k.prototype,"_top",void 0),k=f([_.observer],k);var T=function(e){function t(e){var n;i(this,t),(n=a(this,u(t).call(this,e)))._nPlay=0,n._btnAudioDisabled=!0,n._tgts=[],n._srcs=[],n._chars=[],n._onStop=function(){n.props.on&&n._nPlay>0&&"quiz"===n.props.quizProg&&(n._nPlay=0,n.props.onSoundComplete(n.props.idx),n._btnAudioDisabled=!1,console.log("end?, click ok"))},n._onMountTgt=function(e,t){n._tgts[t]=e},n._onMountSrc=function(e,t){n._srcs[t]=e},n._onSrcDown=function(e){if(!e.moving){var t=e.el;if(e.tgt)e.setTgt(null,!1);else if(t){var i=!0,r=!1,o=void 0;try{for(var a,s=n._tgts[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=a.value,l=u.el;if(null===u.src&&l){e.setTgt(u,!1);break}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}var c=!0,p=[],f=!0,m=!1,d=void 0;try{for(var h,_=n._tgts[Symbol.iterator]();!(f=(h=_.next()).done);f=!0){var y=h.value;y.src?(p.push(y.src.props.char),y.src.props.char!==y.props.char&&(c=!1)):(c=!1,!1,p.push(""))}}catch(e){m=!0,d=e}finally{try{f||null==_.return||_.return()}finally{if(m)throw d}}n.props.onItemChange&&n.props.onItemChange(n.props.idx,JSON.stringify(p)),n.props.isTeacher||(n.props.quiz.app_result=c)}};for(var r=e.quiz.quiz_spelling?e.quiz.quiz_spelling.entry:e.quiz.entry,o=r.length,s=[];s.length<o;){var l=Math.floor(o*Math.random());l<o&&s.indexOf(l)<0&&s.push(l)}for(var c=0;c<s.length;c++)n._chars[c]=r.charAt(s[c]);return n}return l(t,d.Component),o(t,[{key:"componentWillUnmount",value:function(){this._nPlay=0}},{key:"componentDidMount",value:function(){this.props.isTeacher&&this.props.view&&"result"===this.props.quizProg&&this._viewAnswer()}},{key:"_reset",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this._tgts[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o&&o.reset()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var a=!0,s=!1,u=void 0;try{for(var l,c=this._srcs[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;p&&p.reset()}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}}},{key:"componentDidUpdate",value:function(e){this.props.on&&!e.on?this.props.isTeacher&&"quiz"===this.props.quizProg?(this._nPlay=2,this._btnAudioDisabled=!0):(this._nPlay=0,this._btnAudioDisabled=!1):!this.props.on&&e.on&&(this.props.isTeacher&&"result"!==this.props.quizProg&&this._reset(),this._nPlay=0),!this.props.view&&e.view&&this._reset(),this.props.isTeacher&&"result"===this.props.quizProg&&("result"!==e.quizProg||this.props.view&&!e.view)&&this._viewAnswer()}},{key:"_viewAnswer",value:function(){return m(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,r,o,a,s,u,l,c,p,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.wait(300);case 2:if("result"===this.props.quizProg&&this.props.view){e.next=4;break}return e.abrupt("return");case 4:return this._reset(),e.next=7,v.wait(100);case 7:if("result"===this.props.quizProg&&this.props.view){e.next=9;break}return e.abrupt("return");case 9:if(this._chars.length!==this._srcs.length||this._chars.length!==this._tgts.length){e.next=69;break}t=0;case 11:if(!(t<this._chars.length)){e.next=17;break}if(this._srcs[t]&&this._tgts[t]){e.next=14;break}return e.abrupt("return");case 14:t++,e.next=11;break;case 17:n=!0,i=!1,r=void 0,e.prev=20,o=this._srcs[Symbol.iterator]();case 22:if(n=(a=o.next()).done){e.next=55;break}if(!(s=a.value)||!s.el){e.next=52;break}u=!0,l=!1,c=void 0,e.prev=28,p=this._tgts[Symbol.iterator]();case 30:if(u=(f=p.next()).done){e.next=38;break}if(!(m=f.value)||null!==m.src||s.props.char!==m.props.char){e.next=35;break}return m.el&&s.setTgt(m,!0),e.abrupt("break",38);case 35:u=!0,e.next=30;break;case 38:e.next=44;break;case 40:e.prev=40,e.t0=e.catch(28),l=!0,c=e.t0;case 44:e.prev=44,e.prev=45,u||null==p.return||p.return();case 47:if(e.prev=47,!l){e.next=50;break}throw c;case 50:return e.finish(47);case 51:return e.finish(44);case 52:n=!0,e.next=22;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e.catch(20),i=!0,r=e.t1;case 61:e.prev=61,e.prev=62,n||null==o.return||o.return();case 64:if(e.prev=64,!i){e.next=67;break}throw r;case 67:return e.finish(64);case 68:return e.finish(61);case 69:case"end":return e.stop()}},e,this,[[20,57,61,69],[28,40,44,52],[45,,47,51],[62,,64,68]])}))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.quiz,r=(n.isGroup,n.group,n.isTeacher),o=n.quizProg,a=n.hasPreview,s=n.percent,u=i,l=i.quiz_spelling?i.quiz_spelling.entry:i.entry,c=l.split(""),p=l.length;return e=p<=7?"big":p<=10?"middle":p<=13?"small":"x-small",d.createElement(d.Fragment,null,d.createElement(w.default,{view:r&&"result"===o,preClass:a?u.app_spelling:-1,inClass:s,top:65,right:110}),d.createElement(g.BtnAudio,{className:"btn_audio"+(r?"":" "+o),url:b.App.data_url+u.audio,nPlay:this._nPlay,onStop:this._onStop,disabled:this._btnAudioDisabled}),d.createElement("div",{className:"spelling"},d.createElement("div",{className:"target-box "+e},c.map(function(e,n){return d.createElement(E,{key:n,idx:n,char:e,isTeacher:r,quizProg:o,onMountTgt:t._onMountTgt})})),d.createElement("div",{className:"source-box "+e},this._chars.map(function(e,n){return d.createElement(k,{key:n,idx:n,char:e,isTeacher:r,quizProg:o,onMountSrc:t._onMountSrc,onDown:t._onSrcDown,disabled:"quiz"!==o})}))))}}]),t}();f([h.observable],T.prototype,"_nPlay",void 0),f([h.observable],T.prototype,"_btnAudioDisabled",void 0),T=f([_.observer],T),t.default=T},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),p=n(2),f=n(1),m=n(20),d=n(6),h=n(4),_=n(11),y=n(15),v=n(16),b=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e)))._selected=0,n._rcalcNum=0,n._onMc=function(e){if(n.props.on&&"quiz"===n.props.quizProg){if(n._selected===e?n._selected=0:n._selected=e,!n.props.isTeacher){var t=n.props.quiz;t.app_result=n._selected===t.quiz_usage.correct}n._setBlock(n._selected,!0),n.props.onItemChange&&n.props.onItemChange(n.props.idx,n._selected+"")}},n._refSentence=function(e){e&&(n._div=e)},n._setBlock=function(e,t){if(n._div){var i=n._div.querySelector(".block");if(i){var r,o=n.props.quiz.quiz_usage;(e<1||e>3)&&(e=o.correct,t=!1),r=1===e?o.choice1:2===e?o.choice2:o.choice3,t&&!i.classList.contains("view")?i.classList.add("view"):!t&&i.classList.contains("view")&&i.classList.remove("view"),i.innerHTML=r,n._rcalcNum++}}};var i=e.quiz.quiz_usage,a=0,s="";return a=(s=i.choice1).length,i.choice2.length>a&&(a=(s=i.choice2).length),i.choice3.length>a&&(a=(s=i.choice3).length),n._jsx=n._getJSX(i.sentence,s),n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,c.Component),n=t,(s=[{key:"_getJSX",value:function(e,t){var n=m.parseBlock(e,"block",t);return c.createElement(c.Fragment,null,n.map(function(e){return e}))}},{key:"_soundComplete",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.idx>0)){e.next=3;break}return e.next=3,d.wait(300);case 3:this.props.on&&this.props.onSoundComplete(this.props.idx);case 4:case"end":return e.stop()}},e,this)}))}},{key:"componentWillUnmount",value:function(){this._selected=0,this._setBlock(0,!1)}},{key:"componentDidUpdate",value:function(e){if(this.props.on&&!e.on?(this.props.isTeacher&&(this._selected=0),this._soundComplete()):!this.props.on&&e.on&&this.props.isTeacher&&(this._selected=0),this.props.view&&!e.view?(this._rcalcNum=0,this._selected=0,this._setBlock(0,!1)):!this.props.view&&e.view&&(this._rcalcNum=0,this._selected=0,this._setBlock(0,!1)),this.props.view&&"result"===this.props.quizProg&&"result"!==e.quizProg){var t=this.props.quiz.quiz_usage;this._setBlock(t.correct,!1)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isGroup,t.group,t.isTeacher),i=t.quizProg,r=t.hasPreview,o=t.percent,a=this.props.quiz,s=a.quiz_usage,u=s.correct,l=[s.choice1,s.choice2,s.choice3];return c.createElement(c.Fragment,null,c.createElement(_.default,{view:n&&"result"===i,preClass:r?a.app_sentence:-1,inClass:o,top:150,right:140}),c.createElement("div",{className:"img_box"},c.createElement("img",{src:h.App.data_url+a.quiz_usage.image,draggable:!1}),c.createElement("div",{className:"quiz_usage"+("result"===i?" result":"")},c.createElement("div",{ref:this._refSentence},c.createElement(v.default,{view:this.props.view,maxSize:48,minSize:44,lineHeight:130,rcalcNum:this._rcalcNum,viewWhenInit:!0},this._jsx)))),c.createElement("div",{className:"usage"},l.map(function(t,r){var o,a=["quiz_box"],s=e._selected;return o=t.length<=13?" big":" small","result"===i&&(n?(u===r+1&&a.push("correct"),s=0):(u===r+1?a.push("correct"):s===r+1&&a.push("wrong"),s=0)),c.createElement(y.default,{key:r,className:a.join(" ")+o,num:r+1,on:s===r+1,onClick:e._onMc,disabled:"quiz"!==e.props.quizProg},c.createElement(v.default,{view:e.props.view,lineHeight:110,viewWhenInit:!0},t))})))}}])&&i(n.prototype,s),u&&i(n,u),t}();u([p.observable],b.prototype,"_selected",void 0),u([p.observable],b.prototype,"_rcalcNum",void 0),b=u([f.observer],b),t.default=b},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),d=n(2),h=n(1),_=n(6),y=n(9),v=n(4),b=n(7),g=n(48),w=n(49),E=n(19),k=n(50),T=n(51).default,x={direction:"horizontal",observer:!0,noSwipingClass:"swiper-wrapper"},S=function(e){function t(){var e;return i(this,t),(e=a(this,s(t).apply(this,arguments)))._click=function(){e.props.onClick(e.props.idx)},e}return u(t,m.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.idx,n=e.on,i=e.viewResult,r=e.result,o=[];return n&&o.push("on"),i&&o.push(r?"correct":"wrong"),m.createElement("span",{className:o.join(" "),onClick:this._click},t+1)}}]),t}(),O=function(e){function t(){var e;return i(this,t),(e=a(this,s(t).apply(this,arguments)))._timerState=new g.TimerState(60),e._groupResult_save="",e._groupResult="",e._curIdx=-1,e._curIdx_tgt=-1,e._stime="",e._etime="",e._input="",e._swiper=null,e._refSwiper=function(t){if(!e._swiper&&t){var n=t.swiper;e._swiper=n,e._swiperEvent(n)}},e._onStart=function(){e._etime="",e._stime=y._toStringTimestamp(new Date)},e._timeComplete=function(){if(e.props.view&&!("quiz"!==e.props.quizProg&&e.props.forceStopIdx<0)){if(v.App.student){""===e._etime&&(e._etime=y._toStringTimestamp(new Date));var t={msgtype:"quiz_result",result:e.props.quizs[e._curIdx].app_result,input:e._input,stime:e._stime,etime:e._etime,id:v.App.student.id,idx:e._curIdx};b.sendTeacher(11,t)}e.props.unsetForceStop(),e._curIdx===e.props.quizs.length-1?e.props.isGroup?e.props.setQuizProg("wait-result"):e.props.setQuizProg("result"):e.props.isGroup?e.props.setQuizProg("result"):(e.props.setQuizProg(""),e._swiper&&e._swiper.slideNext())}},e._itemChange=function(t,n){e.props.view&&"quiz"===e.props.quizProg&&e._curIdx===t&&e._timerState.isRunning&&(e._input=n,e._etime=y._toStringTimestamp(new Date))},e._onPage=function(t){e._swiper&&"result"===e.props.quizProg&&(v.App.pub_playBtnPage(),e._swiper.slideTo(t),e._curIdx_tgt=t)},e._soundComplete=function(e){},e._aniEnd=function(){e._groupResult=""},e}return u(t,m.Component),o(t,[{key:"_swiperEvent",value:function(e){var t=this;e.on("transitionStart",function(){t._curIdx=-1,t._timerState.pause(),t.props.view&&v.App.pub_stop()}),e.on("transitionEnd",function(){t._timerState.reset(),t.props.view&&(t._curIdx=e.activeIndex,t._curIdx_tgt=t._curIdx,t._etime="",t._input="",t._stime=y._toStringTimestamp(new Date),t._curIdx!==t.props.forceStopIdx||t.props.isGroup||(t._timerState.isRunning&&t._timerState.pause(),t._timeComplete()))})}},{key:"componentWillUpdate",value:function(e){var t=!1;e.view&&!this.props.view?t=!0:e.isGroup&&"inited"===e.groupProg&&"initing"===this.props.groupProg&&(t=!0),t&&(this._timerState.setPlaySound(!1),this._timerState.setMax(e.qtime),this._timerState.reset())}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,i=n.view,r=n.quizProg,o=n.qidx,a=n.forceStopIdx,s=n.groupResult,u=n.groupProg,l=!1,c=-1;if(i&&!e.view?(l=!0,c=0,this._input="",this._stime="",this._etime="",this._curIdx=-1,this._curIdx_tgt=0,this._timerState.reset()):!i&&e.view&&(c=0,this._curIdx=-1,this._curIdx_tgt=-1,this._input="",this._stime="",this._etime="",this._timerState.pause(),v.App.pub_stop()),i&&("quiz"===r&&""===e.quizProg?(c=o,this._timerState.reset(),this._timerState.start()):o!==e.qidx&&(c=o)),e.view===i&&e.groupResult===s&&e.groupProg===u&&e.quizProg===r||(this._groupResult_save=i&&"complete"===u&&"result"===r?s:"",this._groupResult=this._groupResult_save),this._swiper)if(this.props.isGroup?"complete"===this.props.groupProg&&"complete"!==e.groupProg:"result"===this.props.quizProg&&"result"!==e.quizProg)this._swiper.slideTo(0);else{var p=this._checkCanSwipe(),m="swiper-wrapper"!==this._swiper.params.noSwipingClass;if(p!==m||l){p!==m&&(x.noSwipingClass=p?"swiper-no-swiping":"swiper-wrapper",this._swiper.params.noSwipingClass=x.noSwipingClass);var d=this._swiper;l?f(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.wait(100);case 2:return d.update(),d.scrollbar&&d.scrollbar.updateSize(),e.next=6,_.wait(100);case 6:if(d.update(),!(this.props.view&&c>=0)){e.next=13;break}return e.next=10,_.wait(200);case 10:d.slideTo(c,0),this._curIdx=c,this._curIdx_tgt=this._curIdx;case 13:case"end":return e.stop()}},e,this)})):(d.update(),c>=0&&(this._swiper.slideTo(c),this.props.view?(this._curIdx=c,this._curIdx_tgt=this._curIdx):(this._curIdx=-1,this._curIdx_tgt=-1)))}else c>=0&&(this._swiper.slideTo(c),this.props.view?(this._curIdx=c,this._curIdx_tgt=this._curIdx):(this._curIdx=-1,this._curIdx_tgt=-1))}this.props.view&&a>=0&&a!==e.forceStopIdx&&(a===this._curIdx?(this._timerState.isRunning&&this._timerState.pause(),this._timeComplete()):this.props.isGroup||(this._timerState.isRunning&&this._timerState.pause(),this._swiper&&this._swiper.slideTo(a+1)))}},{key:"_checkCanSwipe",value:function(){var e=this.props,t=(e.view,e.quizProg),n=e.groupProg,i=e.isGroup;return i&&"complete"===n||!i&&"result"===t}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,i=t.quizProg,r=t.groupProg,o=t.quizs,a=t.qtype,s=t.ga_na,u=t.ItemComponent,l=t.startSelectedAni,c=t.isGroup,p=this._curIdx,f=this._curIdx_tgt,d=(o.length,[this.props.className,a,i]),h=this.props.points,_=0;n||d.push("hide");var y=!1;return c&&(d.push("group"),"complete"!==r&&"onquiz"!==r&&s&&(y=!0),f>=0&&f<h.length&&(_=h[f])),y&&d.push("view-gana"),this._checkCanSwipe()&&d.push("can-swipe"),m.createElement("div",{className:d.join(" ")},m.createElement(T,Object.assign({ref:this._refSwiper},x),o.map(function(t,r){return u?m.createElement("div",{key:t.app_idx+"_"+a,className:"quiz_".concat(a," student ").concat(i)},m.createElement(u,{view:n,key:t.app_idx+"_"+a,on:n&&r===p,idx:r,isTeacher:!1,hasPreview:!1,isGroup:c,percent:0,quizProg:i,quiz:t,onSoundComplete:e._soundComplete,onItemChange:e._itemChange})):null})),m.createElement("div",{className:"icon_point",style:{display:!0===c&&"complete"!==r?"":"none"}},m.createElement("div",{className:"icon_team "+s}),m.createElement("div",null,m.createElement("span",null,_)," ",m.createElement("span",null,"POINTS"))),m.createElement("div",{className:"icon_crown "+s+" "+this._groupResult_save,style:{display:!0===c&&"complete"===r?"":"none"}}),m.createElement("div",{className:"btn_page_box"},o.map(function(t,n){var o=!1;return c?"complete"===r?o=!0:"result"===i&&n<=e._curIdx?o=!0:"result"!==i&&n<e._curIdx&&(o=!0):"result"===i&&(o=!0),m.createElement(S,{key:n,on:n===f,viewResult:o,result:t.app_result,idx:n,onClick:e._onPage})})),m.createElement("div",{className:"timer full"},m.createElement(g.Timer,{state:this._timerState,view:"quiz"===i||""===i,onComplete:this._timeComplete,onStart:this._onStart})),m.createElement(w.default,{className:"box-gana",ga_na:s,view:y,viewBG:"initing"!==this.props.groupProg,start:y&&"initing"===this.props.groupProg&&l}),m.createElement(k.default,{className:"team-pad-result",result:this._groupResult,onAniEnd:this._aniEnd}),m.createElement("div",{className:"icon-gana icon-"+s}),m.createElement(E.Loading,{view:"wait-result"===i}))}}]),t}();p([d.observable],O.prototype,"_groupResult",void 0),p([d.observable],O.prototype,"_curIdx",void 0),p([d.observable],O.prototype,"_curIdx_tgt",void 0),O=p([h.observer],O),t.default=O},function(e,t,n){"use strict";function i(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var f,m=n(0),d=n(2),h=n(1),_=n(5),y=n(4);!function(e){e[e.INIT=0]="INIT",e[e.RUNNING=1]="RUNNING",e[e.PAUSE=2]="PAUSE"}(f||(f={}));var v=function(){function e(t){var n=this;s(this,e),this.m_runState=0,this.m_max=60,this.m_playSound=!0,this.start=function(){n.m_runState=1},this.reset=function(){n.m_runState=0},this.pause=function(){n.m_runState=2},this.m_max=t}return l(e,[{key:"setPlaySound",value:function(e){this.m_playSound=e}},{key:"setMax",value:function(e){this.m_max=e}},{key:"runState",get:function(){return this.m_runState}},{key:"isRunning",get:function(){return 1===this.m_runState}},{key:"max",get:function(){return this.m_max}},{key:"playSound",get:function(){return this.m_playSound}}]),e}();function b(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}function g(e,t,n,i,r){var o;if(r-i>=360)o=["M",e,t,"m",-n,0,"a",n,n,0,"1",0,2*n,0,"a",n,n,0,"1",0,2*-n,0].join(" ");else{var a=r-i<=180?"0":"1",s=b(e,t,n,r),u=b(e,t,n,i);o=["M",s.x,s.y,"A",n,n,0,a,0,u.x,u.y,"L",e,t,"L",s.x,s.y].join(" ")}return o}p([d.observable],v.prototype,"m_runState",void 0),p([d.computed],v.prototype,"runState",null),p([d.observable],v.prototype,"m_max",void 0),p([d.computed],v.prototype,"max",null),p([d.action],v.prototype,"start",void 0),p([d.action],v.prototype,"reset",void 0),p([d.action],v.prototype,"pause",void 0),t.TimerState=v;var w=32,E=w,k=2*E,T=function(e){function t(e){var n;return s(this,t),(n=i(this,r(t).call(this,e))).m_runState=0,n.m_sec=0,n.m_stime=0,n.m_text="",n.m_d="",n._start=function(){n.m_sec=n.props.state.max,n.m_text=n._getTime(n.m_sec),n.m_d="",n.m_stime=Date.now(),n._run(0),n.props.onStart&&n.props.onStart()},n._run=function(e){if(n.props&&1===n.m_runState){var t=n.props.state.max,i=Date.now()-n.m_stime,r=t-Math.floor(i/1e3);n.m_sec!==r&&(n.m_text=n._getTime(r),0===r?n.props.state.playSound&&y.App.pub_playDingend():r<5?n.props.state.playSound&&y.App.pub_playDing():r>=5&&r<=10&&n.props.state.playSound&&y.App.pub_playClock()),n.m_sec=r,r>0?(n._drawArc(i),window.requestAnimationFrame(n._run)):(n._drawArc.cancel(),n.m_d=g(E,E,w,0,360),n.props.onComplete())}},n.m_text=n._getTime(n.props.state.max),n.m_d="",d.autorun(function(){if(n.props){var e=n.props.state,t=e.max;1===e.runState&&1!==n.m_runState?(n.m_runState=1,n._start()):0===e.runState&&(n.m_text=n._getTime(t),n.m_d=""),n.m_runState=e.runState}}),n._drawArc=_.throttle(function(e){if(n.props&&1===n.m_runState){var t=1e3*n.props.state.max,i=0;if(n.m_sec<=5){var r=e%1e3;i=0===e?0:0===r?1:r/1e3}else i=e/t;i*=360,n.m_d=g(E,E,w,0,i)}},50,{trailing:!0}),n}return o(t,m.Component),l(t,[{key:"_getTime",value:function(e){var t=Math.floor(e/60),n=e%60,i="";return i=t<10?"0"+t:""+t,i=n<10?i+":0"+n:i+":"+n}},{key:"render",value:function(){var e=this.m_sec<=5?"#f00":"#ff0";return m.createElement("div",{className:"q_timer",hidden:!this.props.view},m.createElement("svg",{width:k,height:k,viewBox:"0 0 "+k+" "+k},m.createElement("path",{fill:e,d:this.m_d})),m.createElement("div",{className:"m_text"},this.m_text))}}]),t}();p([d.observable],T.prototype,"m_text",void 0),p([d.observable],T.prototype,"m_d",void 0),T=p([h.observer],T),t.Timer=T;var x=-.5*Math.PI,S=function(e){function t(e){var n;return s(this,t),(n=i(this,r(t).call(this,e))).m_runState=0,n.m_sec=0,n.m_stime=0,n.m_r=0,n.m_view=!1,n._start=function(){n.m_sec=n.props.state.max,n.m_stime=Date.now(),n._run(0),n.props.onStart&&n.props.onStart()},n._run=function(e){if(n.props&&1===n.m_runState){var t=Date.now()-n.m_stime,i=n.props.state.max-Math.floor(t/1e3);n.m_sec!==i&&(n.m_sec=i,0===i?(n.props.state.playSound&&y.App.pub_playDingend(),n.props.onComplete()):i<=5&&n.props.state.playSound&&y.App.pub_playDing()),i>0?(n._drawArc(t%1e3),window.requestAnimationFrame(n._run)):n._drawArc(1e3)}},n._refCanvas=function(e){!n.m_canvas&&e&&(n.m_canvas=e,n.m_r=e.width/2,n.m_ctx=e.getContext("2d"))},n._onTransEnd=function(){n.props.view||(n.m_view=!1)},n.m_sec=n.props.state.max,n.m_view=e.view,d.autorun(function(){if(n.props){var e=n.props.state;if(1===e.runState&&1!==n.m_runState)n.m_runState=1,n._start();else if(0===e.runState&&0!==n.m_runState&&(n.m_sec=e.max,n.m_ctx)){var t=n.m_r;n.m_ctx.clearRect(0,0,2*t,2*t)}n.m_runState=e.runState}}),n._drawArc=_.throttle(function(e){if(n.m_canvas&&n.props&&1===n.m_runState){var t=2*Math.PI*e/1e3,i=n.m_r;n.m_ctx.clearRect(0,0,2*i,2*i),n.m_ctx.beginPath(),n.m_ctx.fillStyle="#5538EB",n.m_ctx.moveTo(i,i),n.m_ctx.arc(i,i,i,x,t+x),n.m_ctx.fill()}},50),n}return o(t,m.Component),l(t,[{key:"componentDidUpdate",value:function(e){e.view!==this.props.view&&this.props.view&&(this.m_view=!0)}},{key:"render",value:function(){return m.createElement("div",{className:"countdown2 "+(this.m_view?"":"hide")},m.createElement("div",{className:"countdown "+(this.props.view?"view":"hide"),onTransitionEnd:this._onTransEnd},m.createElement("canvas",{width:"206px",height:"206px",ref:this._refCanvas}),m.createElement("div",null,m.createElement("div",null,this.m_sec))))}}]),t}();p([d.observable],S.prototype,"m_sec",void 0),p([d.observable],S.prototype,"m_view",void 0),S=p([h.observer],S),t.CountDown2=S},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e)))._svg=null,n._audio=null,n._refSVG=function(e){!n._svg&&e&&(n._svg=e,n._svg.setCurrentTime(0),n.props.start&&n._svg.animationsPaused()?n._svg.unpauseAnimations():n.props.start||n._svg.animationsPaused()||n._svg.pauseAnimations())},n._refAudio=function(e){!n._audio&&e&&(n._audio=e,n._audio.currentTime=0,n.props.start&&n._audio.paused?n._audio.play():n.props.start||n._audio.paused||n._audio.pause())},n._className=e.className,n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillUpdate",value:function(e){if(this.props.view!==e.view||this.props.start!==e.start){var t=[];t.push(e.className),e.view||t.push("hide"),e.viewBG||t.push("hide-bg"),e.start&&t.push("view-ani"),this._className=t.join(" ")}}},{key:"componentDidUpdate",value:function(e){this.props.start&&!e.start?(this._svg&&(this._svg.setCurrentTime(0),this._svg.animationsPaused()&&this._svg.unpauseAnimations()),this._audio&&(this._audio.currentTime=0,this._audio.paused&&this._audio.play())):!this.props.start&&e.start&&(this._svg&&(this._svg.setCurrentTime(0),this._svg.animationsPaused()||this._svg.pauseAnimations()),this._audio&&(this._audio.currentTime=0,this._audio.paused||this._audio.pause()))}},{key:"render",value:function(){return l.createElement("div",{className:this._className},l.createElement("audio",{ref:this._refAudio,controls:!1,autoPlay:!1,src:"".concat("/content/digenglish_lib/","team/team_selected/team.mp3")}),l.createElement("img",{className:"icon",src:"".concat("/content/digenglish_lib/","team/icon_").concat(this.props.ga_na?this.props.ga_na:"","_s.png")}),l.createElement("svg",{ref:this._refSVG,imageRendering:"auto",baseProfile:"basic",version:"1.1",x:"0px",y:"0px",width:"1280",height:"800",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.createElement("g",{overflow:"visible"},l.createElement("g",null,l.createElement("g",{transform:"matrix(.605 0 0 .605 480.05 254.35)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"1.458s",keyTimes:"0;.143;.286;.54299;.686;1",values:"652.112,406.16;652.112,406.16;652.091,406.157;652.091,406.157;652.112,406.16;652.112,406.16",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"1.458s",keyTimes:"0;.143;.286;.54299;.686;1",values:".605,.605;.605,.605;1.045,1.045;1.045,1.045;.605,.605;.605,.605",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"1.458s",keyTimes:"0;.143;.286;.54299;.686;1",values:"-284.7,-251.2;-284.7,-251.2;-284.65,-251.35;-284.65,-251.35;-284.7,-251.2;-284.7,-251.2",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.143;.286;.54299;.686;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/2.png"),height:"502",width:"569"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.143;.714;1",values:"none;inline;none;none"})),l.createElement("g",null,l.createElement("g",{transform:"translate(505.7 266.8)",opacity:"1"},l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.543;.686;1",values:"0;0;1;1",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/team_").concat(this.props.ga_na?this.props.ga_na:"",".png"),height:"226",width:"231",transform:"matrix(1.259 0 0 1.259 0 0)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.543;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(291.5 39.5)"},l.createElement("g",null,l.createElement("g",{transform:"translate(6 12)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.143;.543;.886;1",values:"0;0;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/05.png"),height:"701",width:"701"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.143;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"matrix(1.21 0 0 1.21 -20.95 -15.75)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"1.458s",keyTimes:"0;.143;.429;1",values:"376.511,374.511;376.511,374.511;370.391,374.442;370.391,374.442",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"1.458s",keyTimes:"0;.143;.429;1",values:".8,.8;.8,.8;1.21,1.21;1.21,1.21",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"1.458s",keyTimes:"0;.143;.429;1",values:"-323.65,-322.65;-323.65,-322.65;-323.4,-322.45;-323.4,-322.45",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.143;.429;.6;1",values:"0;0;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/03.png"),height:"645",width:"647"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.143;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"matrix(1.1 0 0 1.1 7.6 9.7)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"1.458s",keyTimes:"0;.229;.457;1",values:"363.511,364.511;363.511,364.511;363.492,364.547;363.492,364.547",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"1.458s",keyTimes:"0;.229;.457;1",values:".8,.8;.8,.8;1.1,1.1;1.1,1.1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"1.458s",keyTimes:"0;.229;.457;1",values:"-323.65,-322.65;-323.65,-322.65;-323.6,-322.65;-323.6,-322.65",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.457;.657;1",values:"1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/04.png"),height:"645",width:"647"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.229;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(65.5 88.95)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"1.458s",keyTimes:"0;.2;.457;.686;1",values:"326.516,335.456;326.516,335.456;261.512,281.361;234.5,257.45;234.5,257.45",keySplines:".333 .453 .667 .787;.333 .453 .667 .787;.333 .667 .667 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"1.458s",keyTimes:"0;.2;.457;.686;1",values:".6,.6;.6,.6;.911,.911;1,1;1,1",keySplines:".333 .453 .667 .787;.333 .453 .667 .787;.333 .667 .667 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"1.458s",keyTimes:"0;.2;.457;.686;1",values:"-169.2,-168.6;-169.2,-168.6;-169.15,-168.6;-169,-168.5;-169,-168.5",keySplines:".333 .453 .667 .787;.333 .453 .667 .787;.333 .667 .667 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.2;.457;.686;1",values:"0;0;1;0;0",keySplines:".333 .453 .667 .787;.333 .453 .667 .787;.333 .667 .667 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/02.png"),height:"337",width:"338"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.2;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(472.05 467.05)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"1.458s",keyTimes:"0;.2;.457;.714;1",values:"372.05,365.05;372.05,365.05;464.05,467.05;472.05,467.05;472.05,467.05",keySplines:".25 .5 .5 1;.25 .5 .5 1;0 0 1 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"1.458s",keyTimes:"0;.457;.714;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;0 0 1 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/team_selected/01.png"),height:"145",width:"145"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.2;1",values:"none;inline;inline"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"1.458s",keyTimes:"0;.143;1",values:"none;inline;inline"})))))}}])&&i(n.prototype,s),u&&i(n,u),t}();p=u([c.observer],p),t.default=p},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(1),p=n(5),f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e)))._svg=null,n._audio_win=null,n._audio_lose=null,n._audio_tie=null,n._refSVG=function(e){!n._svg&&e&&(n._svg=e,n._svg.setCurrentTime(0),""!==n.props.result&&n._svg.animationsPaused()?n._svg.unpauseAnimations():""!==n.props.result||n._svg.animationsPaused()||n._svg.pauseAnimations())},n._refAudioWin=function(e){!n._audio_win&&e&&(n._audio_win=e,n._audio_win.currentTime=0,"win"===n.props.result&&n._audio_win.paused?n._audio_win.play():"win"===n.props.result||n._audio_win.paused||n._audio_win.pause())},n._refAudioLose=function(e){!n._audio_lose&&e&&(n._audio_lose=e,n._audio_lose.currentTime=0,"lose"===n.props.result&&n._audio_lose.paused?n._audio_lose.play():"lose"===n.props.result||n._audio_lose.paused||n._audio_lose.pause())},n._refAudioTie=function(e){!n._audio_tie&&e&&(n._audio_tie=e,n._audio_tie.currentTime=0,"tie"===n.props.result&&n._audio_tie.paused?n._audio_tie.play():"tie"===n.props.result||n._audio_tie.paused||n._audio_tie.pause())},n._className=e.className+" hide",n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l.Component),n=t,(s=[{key:"componentWillUpdate",value:function(e){if(this.props.result!==e.result){var t=[];t.push(e.className),""===e.result&&t.push("hide"),this._className=t.join(" ")}}},{key:"componentDidUpdate",value:function(e){var t=this;""!==this.props.result&&""===e.result?(this._svg&&(this._svg.setCurrentTime(0),this._svg.animationsPaused()&&this._svg.unpauseAnimations()),this._audio_win&&(this._audio_win.currentTime=0,"win"===this.props.result&&this._audio_win.paused?this._audio_win.play():"win"===this.props.result||this._audio_win.paused||this._audio_win.pause()),this._audio_lose&&(this._audio_lose.currentTime=0,"lose"===this.props.result&&this._audio_lose.paused?this._audio_lose.play():"lose"===this.props.result||this._audio_lose.paused||this._audio_lose.pause()),this._audio_tie&&(this._audio_tie.currentTime=0,"tie"===this.props.result&&this._audio_tie.paused?this._audio_tie.play():"tie"===this.props.result||this._audio_tie.paused||this._audio_tie.pause()),p.delay(function(){t.props.onAniEnd()},5300)):""===this.props.result&&""!==e.result&&(this._svg&&(this._svg.setCurrentTime(0),this._svg.animationsPaused()||this._svg.pauseAnimations()),this._audio_win&&(this._audio_win.currentTime=0,this._audio_win.paused||this._audio_win.pause()),this._audio_lose&&(this._audio_lose.currentTime=0,this._audio_lose.paused||this._audio_lose.pause()),this._audio_tie&&(this._audio_tie.currentTime=0,this._audio_tie.paused||this._audio_tie.pause()))}},{key:"render",value:function(){return l.createElement("div",{className:this._className},l.createElement("audio",{ref:this._refAudioWin,controls:!1,autoPlay:!1,src:"".concat("/content/digenglish_lib/","team/winner/winner.mp3")}),l.createElement("audio",{ref:this._refAudioLose,controls:!1,autoPlay:!1,src:"".concat("/content/digenglish_lib/","team/good-work.mp3")}),l.createElement("audio",{ref:this._refAudioTie,controls:!1,autoPlay:!1,src:"".concat("/content/digenglish_lib/","team/winner/tie.mp3")}),l.createElement("svg",{ref:this._refSVG,imageRendering:"auto",baseProfile:"basic",version:"1.1",x:"0px",y:"0px",width:"1280",height:"800",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.createElement("defs",null,l.createElement("filter",{id:"filter7",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 .88 0"})),l.createElement("filter",{id:"filter8",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 .75 0"})),l.createElement("filter",{id:"filter9",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 .63 0"})),l.createElement("filter",{id:"filter11",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 .25 0"})),l.createElement("filter",{id:"filter12",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 .13 0"})),l.createElement("filter",{id:"filter13",filterUnits:"objectBoundingBox",width:"100%",height:"100%",x:"0%",y:"0%"},l.createElement("feColorMatrix",{type:"matrix",in:"SourceGraphic",result:"colorTrans",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0"})),l.createElement("g",{id:"Wkrf0o9r1",overflow:"visible"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(1 .021 -.021 1 21.7 6.35)"}),l.createElement("use",{xlinkHref:"#11",transform:"translate(25.2 -2.5)"})),l.createElement("g",{id:"11",overflow:"visible"},l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/hand1.png"),height:"239",width:"186"})),l.createElement("g",{id:"22",overflow:"visible"},l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/hand2.png"),height:"224",width:"218"})),l.createElement("pattern",{id:"Pattern_1",patternUnits:"userSpaceOnUse",patternTransform:"matrix(.258 .965 -.965 .258 127.9 -26.75)",width:"60",height:"65"},l.createElement("image",{id:"effect_png",x:"0",y:"0",width:"60",height:"65"}))),l.createElement("g",{overflow:"visible"},l.createElement("g",{transform:"translate(232.05 104.05)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.075;0.867;0.933;1",values:"626.1,387.1;639.946,399.987;639.946,399.987;626.1,387.1;626.1,387.1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"5s",keyTimes:"0;0.075;0.867;0.933;1",values:"1,1;1.624,1.413;1.624,1.413;1,1;1,1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"5s",keyTimes:"0;1",values:"-394.05,-283.05;-394.05,-283.05",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.075;0.867;0.933;1",values:"0;.5;.5;0;0",fill:"freeze"}),l.createElement("path",{fill:"#000",stroke:"none",d:"M788.15 566.1L788.15 0 0 0 0 566.1 788.15 566.1Z"})),l.createElement("g",{display:"win"===this.props.result?"":"none"},l.createElement("g",{display:"none"},l.createElement("g",{transform:"matrix(.94 0 0 .94 374.6 164.65)",style:{mixBlendMode:"screen"},opacity:"0",display:"none"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.1;0.167;0.792;0.858;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("g",{transform:"matrix(.95 0 0 .95 14.2 12.55)"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.1;0.158;0.225;0.283;0.35;0.809;0.858;1",values:"284.5,251;284.5,251;284.522,251.023;284.5,251;284.522,251.023;284.5,251;284.522,251.023;284.558,250.989;284.558,250.989",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"5s",keyTimes:"0;0.1;0.158;0.225;0.283;0.35;0.809;0.858;1",values:"1,1;1,1;.8,.8;1,1;.8,.8;1,1;.8,.8;.95,.95;.95,.95",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"5s",keyTimes:"0;0.1;0.158;0.225;0.283;0.35;0.809;0.858;1",values:"-284.5,-251;-284.5,-251;-284.6,-251.1;-284.5,-251;-284.6,-251.1;-284.5,-251;-284.6,-251.1;-284.65,-251.05;-284.65,-251.05",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/2.png"),height:"502",width:"569"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.1;0.867;1",values:"none;inline;none;none"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.1;0.867;1",values:"none;inline;none;none"})),l.createElement("g",null,l.createElement("g",{transform:"translate(476.25 227.2)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.075;0.142;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/circle.png"),height:"330",width:"320"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(462.25 220.2)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.075;0.142;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/crown.png"),height:"237",width:"339"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(321.2 457.25)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.075;0.142;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/ribbon.png"),height:"133",width:"631"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(486.15 491.15)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.075;0.142;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/WINNER.png"),height:"62",width:"294"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.075;1",values:"none;inline;inline"}))),l.createElement("g",{display:"lose"===this.props.result?"":"none"},l.createElement("g",null,l.createElement("g",{transform:"translate(476.25 227.2)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4s",keyTimes:"0;0.075;0.134;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/circle.png"),height:"330",width:"320"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",{mask:"url(#lose-mask123)"},l.createElement("g",null,l.createElement("g",{transform:"translate(517.6 285.6)",filter:"url(#filter13)"},l.createElement("g",null,l.createElement("use",{xlinkHref:"#22",transform:"matrix(.992 .122 -.122 .992 57.65 -17.75)"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"215.498,199.889;215.498,199.889;220.456,197.643;220.456,197.643;225.468,195.326;205.429,204.37;205.429,204.37;220.456,197.643;220.456,197.643",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"rotate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"5.023,0,0;5.023,0,0;7.008,0,0;7.008,0,0;8.952,0,0;1.226,0,0;1.226,0,0;7.008,0,0;7.008,0,0",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"4s",keyTimes:"0;0.916;0.95;0.966;0.992;1",values:"1,.999;1,.999;1,1;1,1;1,.999;1,.999",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"-188,-194;-188,-194;-187.95,-193.95;-187.95,-193.95;-188,-193.9;-187.95,-194.1;-187.95,-194.1;-187.95,-193.95;-187.95,-193.95",fill:"freeze"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.9;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("use",{xlinkHref:"#11",transform:"matrix(.988 -.153 .153 .988 -5.1 23.4)"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"169.301,232.936;169.301,232.936;170.521,233.373;170.521,233.373;171.756,233.84;166.7,232;166.7,232;170.521,233.373;170.521,233.373",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"rotate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"-5.809,0,0;-5.809,0,0;-8.81,0,0;-8.81,0,0;-11.96,0,0;0,0,0;0,0,0;-8.81,0,0;-8.81,0,0",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"4s",keyTimes:"0;0.916;0.95;0.966;0.992;1",values:"1,.999;1,.999;1,1;1,1;1,.999;1,.999",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"4s",keyTimes:"0;0.908;0.909;0.916;0.917;0.95;0.966;0.992;1",values:"-141.6,-234.6;-141.6,-234.6;-141.45,-234.55;-141.45,-234.55;-141.45,-234.65;-141.5,-234.5;-141.5,-234.5;-141.45,-234.55;-141.45,-234.55",fill:"freeze"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.9;1",values:"none;inline;inline"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.9;1",values:"none;inline;inline"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)",filter:"url(#filter12)"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.998 .053 -.053 .998 33.1 -1.55)"}),l.createElement("use",{xlinkHref:"#11",transform:"matrix(1 -.049 .049 1 15.15 5.2)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.892;0.9;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("use",{xlinkHref:"#Wkrf0o9r1",transform:"translate(517.6 285.6)",filter:"url(#filter11)"}),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.892;0.9;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("use",{xlinkHref:"#Wkrf0o9r1",transform:"translate(517.6 285.6)",opacity:".38"},l.createElement("animate",{attributeName:"opacity",dur:"4s",keyTimes:"0;0.875;0.875;1",values:".5;.5;.38;.38",calcMode:"discrete",fill:"freeze"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.867;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)",filter:"url(#filter9)"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.998 .053 -.053 .998 33.1 -1.4)"}),l.createElement("use",{xlinkHref:"#11",transform:"matrix(1 -.049 .049 1 15.2 5.15)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.859;0.867;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)",filter:"url(#filter8)"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.996 .088 -.088 .996 45.3 -9.65)"}),l.createElement("use",{xlinkHref:"#11",transform:"matrix(.995 -.101 .101 .995 4.85 13.95)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.85;0.859;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)",filter:"url(#filter7)"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.992 .122 -.122 .992 57.65 -17.6)"}),l.createElement("use",{xlinkHref:"#11",transform:"matrix(.988 -.153 .153 .988 -5.05 23.35)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.842;0.85;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.988 .156 -.156 .988 70 -25.45)"}),l.createElement("use",{xlinkHref:"#11",transform:"matrix(.978 -.207 .207 .978 -15.25 33.65)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.834;0.842;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(517.6 285.6)"},l.createElement("g",{display:"none"},l.createElement("use",{xlinkHref:"#22",transform:"matrix(.992 .122 -.122 .992 57.65 -17.75)"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"205.429,204.37;205.429,204.37;225.468,195.326;205.429,204.37;205.429,204.37;225.468,195.326;205.429,204.37;205.429,204.37;220.456,197.643;220.456,197.643",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"rotate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"1.226,0,0;1.226,0,0;8.952,0,0;1.226,0,0;1.226,0,0;8.952,0,0;1.226,0,0;1.226,0,0;7.008,0,0;7.008,0,0",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"1,1;1,1;1,.999;1,1;1,1;1,.999;1,1;1,1;1,.999;1,.999",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"-187.95,-194.1;-187.95,-194.1;-188,-193.9;-187.95,-194.1;-187.95,-194.1;-188,-193.9;-187.95,-194.1;-187.95,-194.1;-187.95,-193.95;-187.95,-193.95",fill:"freeze"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.134;0.834;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("use",{xlinkHref:"#11",transform:"matrix(.988 -.153 .153 .988 -5.1 23.4)"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"166.7,232;166.7,232;171.756,233.84;166.7,232;166.7,232;171.756,233.84;166.7,232;166.7,232;170.521,233.373;170.521,233.373",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"rotate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"0,0,0;0,0,0;-11.96,0,0;0,0,0;0,0,0;-11.96,0,0;0,0,0;0,0,0;-8.81,0,0;-8.81,0,0",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"1,1;1,1;1,.999;1,1;1,1;1,.999;1,1;1,1;1,.999;1,.999",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"4s",keyTimes:"0;0.134;0.167;0.2;0.216;0.25;0.284;0.3;0.825;1",values:"-141.5,-234.5;-141.5,-234.5;-141.45,-234.65;-141.5,-234.5;-141.5,-234.5;-141.45,-234.65;-141.5,-234.5;-141.5,-234.5;-141.45,-234.55;-141.45,-234.55",fill:"freeze"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.134;0.834;1",values:"none;inline;none;none"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.134;0.834;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("use",{xlinkHref:"#Wkrf0o9r1",transform:"translate(517.6 285.6)"}),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.075;0.134;1",values:"none;inline;none;none"}))),l.createElement("mask",{id:"lose-mask123"},l.createElement("g",null,l.createElement("path",{fill:"#FFF",stroke:"none",d:"M771.4 388Q771.4 332.4 732.05 293.1 692.75 253.75 637.1 253.75 581.5 253.75 542.2 293.1 502.85 332.4 502.85 388 502.85 443.6 542.2 482.95 581.5 522.3 637.1 522.3 692.75 522.3 732.05 482.95 771.4 443.6 771.4 388Z",fillOpacity:"1"}))),l.createElement("g",null,l.createElement("g",{transform:"translate(321.2 457.25)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4s",keyTimes:"0;0.075;0.134;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/ribbon.png"),height:"133",width:"631"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{transform:"translate(468.6 490.2)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4s",keyTimes:"0;0.075;0.134;0.833;0.9;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/GOOD_WORK.png"),height:"54",width:"339"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;0.075;1",values:"none;inline;inline"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"matrix(.968 0 0 .968 490.5 243.55)",opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"4s",keyTimes:"0;.267;.333;.34999;.4;.41699;.483;.49999;.567;.58299;.65;.66699;.733;1",values:"519.585,275.054;519.585,275.054;509.669,265.083;509.669,265.083;519.585,275.054;519.585,275.054;509.669,265.083;509.669,265.083;519.585,275.054;519.585,275.054;509.669,265.083;509.669,265.083;519.585,275.054;519.585,275.054",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"4s",keyTimes:"0;.267;.333;.34999;.4;.41699;.483;.49999;.567;.58299;.65;.66699;.733;1",values:".968,.968;.968,.968;1.21,1.21;1.21,1.21;.968,.968;.968,.968;1.21,1.21;1.21,1.21;.968,.968;.968,.968;1.21,1.21;1.21,1.21;.968,.968;.968,.968",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"4s",keyTimes:"0;.267;.333;.34999;.4;.41699;.483;.49999;.567;.58299;.65;.66699;.733;1",values:"-30.1,-32.6;-30.1,-32.6;-30.1,-32.55;-30.1,-32.55;-30.1,-32.6;-30.1,-32.6;-30.1,-32.55;-30.1,-32.55;-30.1,-32.6;-30.1,-32.6;-30.1,-32.55;-30.1,-32.55;-30.1,-32.6;-30.1,-32.6",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"4s",keyTimes:"0;.267;.333;.66699;.733;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect.png"),height:"65",width:"60",transform:"matrix(.979 -.204 .204 .979 -4.55 10)"}),l.createElement("path",{fill:"url(#Pattern_1)",stroke:"none",d:"M87.3 -11.05Q87.1 -13.4 87 -15.8L65.15 -10 80.65 48 82.2 47.65Q82.05 45.5 82 43.35L82.55 42Q82.1 39.9 82.85 37.7L82.6 36.5 83.2 35.05 82.85 33.45Q84.75 21.9 85.9 10.4L86.45 5.2Q86.75 4.7 86.8 4.2 87.25 2.2 87.1 .4 87.75 -.25 87.65 -1.75 87.4 -4.8 87.75 -8.15 87.4 -9.55 87.3 -11.05Z"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4s",keyTimes:"0;.267;.75;1",values:"none;inline;none;none"}))),l.createElement("g",{display:"tie"===this.props.result?"":"none"},l.createElement("g",null,l.createElement("g",{transform:"translate(476.25 227.2)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4.958s",keyTimes:"0;0.076;0.152;0.798;0.866;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/circle.png"),height:"330",width:"320"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4.958s",keyTimes:"0;0.076;1",values:"none;inline;inline"})),l.createElement("g",{mask:"url(#tie-mask123)"},l.createElement("g",{id:"dkrtnm",transform:"translate(503.4 273.1)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4.958s",keyTimes:"0;0.076;0.152;0.798;0.866;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/hand.png"),height:"243",width:"266"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4.958s",keyTimes:"0;0.076;1",values:"none;inline;inline"})),l.createElement("mask",{id:"tie-mask123"},l.createElement("g",null,l.createElement("path",{fill:"#FFF",stroke:"none",d:"M771.4 388Q771.4 332.4 732.05 293.1 692.75 253.75 637.1 253.75 581.5 253.75 542.2 293.1 502.85 332.4 502.85 388 502.85 443.6 542.2 482.95 581.5 522.3 637.1 522.3 692.75 522.3 732.05 482.95 771.4 443.6 771.4 388Z",fillOpacity:"1"}))),l.createElement("g",null,l.createElement("g",{transform:"translate(321.2 457.25)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4.958s",keyTimes:"0;0.076;0.152;0.798;0.866;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/ribbon.png"),height:"133",width:"631"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4.958s",keyTimes:"0;0.076;1",values:"none;inline;inline"})),l.createElement("g",null,l.createElement("g",{id:"tie",transform:"translate(569.6 490.6)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"4.958s",keyTimes:"0;0.076;0.152;0.798;0.866;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/tie.png"),height:"62",width:"133"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"4.958s",keyTimes:"0;0.076;1",values:"none;inline;inline"}))),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(378.5 221.1)"},l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(80.55 86.95)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.109;0.184;0.35;0.833;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("g",{opacity:"1"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",begin:".542s",repeatDur:"1.875s",dur:"0.625s",keyTimes:"0;.467;.933;1",values:"22,22;22.025,22.025;22,22;22,22",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",begin:".542s",repeatDur:"1.875s",dur:"0.625s",keyTimes:"0;.467;.933;1",values:"1,1;.64,.64;1,1;1,1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",begin:".542s",repeatDur:"1.875s",dur:"0.625s",keyTimes:"0;.467;.933;1",values:"-22,-22;-22.15,-22.15;-22,-22;-22,-22",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",begin:".542s",repeatDur:"1.875s",dur:"0.625s",keyTimes:"0;.467;.933;1",values:"1;.76;1;1",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect1.png"),height:"44",width:"44"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.109;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(452.1 22.05)",opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.15;0.225;0.792;0.875;1",values:"0;0;1;1;0;0",fill:"freeze"}),l.createElement("g",{opacity:"1"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",begin:".75s",repeatDur:"1.667s",dur:"0.667s",keyTimes:"0;.5;.937;1",values:"27.5,27.5;27.517,27.517;27.5,27.5;27.5,27.5",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",begin:".75s",repeatDur:"1.667s",dur:"0.667s",keyTimes:"0;.5;.937;1",values:"1,1;.614,.614;1,1;1,1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",begin:".75s",repeatDur:"1.667s",dur:"0.667s",keyTimes:"0;.5;.937;1",values:"-27.5,-27.5;-27.7,-27.7;-27.5,-27.5;-27.5,-27.5",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",begin:".75s",repeatDur:"1.667s",dur:"0.667s",keyTimes:"0;.5;.937;1",values:"1;.61;1;1",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect2.png"),height:"55",width:"55"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.15;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(-44 107.95)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.158;0.317;1",values:"113.55,107.95;113.55,107.95;-44,107.95;-44,107.95",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.158;0.317;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect3.png"),height:"23",width:"11"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.158;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(8.6 181.3)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.175;0.334;1",values:"115.75,151;115.75,151;8.6,181.3;8.6,181.3",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.175;0.334;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect3.png"),height:"23",width:"11",transform:"matrix(.8 0 0 .8 0 0)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.175;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(502.95 80.8)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.167;0.325;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect3.png"),height:"23",width:"11",transform:"matrix(.559 .573 -.573 .559 13.15 0)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.167;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(506.25 136.05)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.184;0.341;1",values:"410.1,160.05;410.1,160.05;506.25,136.05;506.25,136.05",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.184;0.341;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect6.png"),height:"32",width:"16"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.184;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(33.6 -40)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.167;0.325;1",values:"131.76,73.459;131.76,73.459;45.6,-17.5;45.6,-17.5",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"5s",keyTimes:"0;0.167;0.325;1",values:".6,.6;.6,.6;1,1;1,1",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"5s",keyTimes:"0;0.167;0.325;1",values:"-12.1,-22.6;-12.1,-22.6;-12,-22.5;-12,-22.5",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.167;0.325;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect7.png"),height:"45",width:"24"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.167;0.884;1",values:"none;inline;none;none"})),l.createElement("g",{display:"none"},l.createElement("g",{transform:"translate(417.8 -11)",style:{mixBlendMode:"screen"},opacity:"0"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"5s",keyTimes:"0;0.191;0.35;1",values:"379.8,86.95;379.8,86.95;417.8,-11;417.8,-11",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"5s",keyTimes:"0;0.191;0.35;1",values:"1;1;0;0",keySplines:".25 .5 .5 1;.25 .5 .5 1;.1 .1 .9 .9",calcMode:"spline",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglish_lib/","team/pad_result/effect7.png"),height:"45",width:"24",transform:"matrix(.797 .604 -.604 .797 27.2 0)"})),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.191;0.884;1",values:"none;inline;none;none"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"5s",keyTimes:"0;0.109;0.884;1",values:"none;inline;none;none"})))))}}])&&i(n.prototype,s),u&&i(n,u),t}();f=u([c.observer],f),t.default=f},function(e,t){e.exports=ReactIdSwiper},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var c,p=n(0),f=n(1),m=n(10),d=n(2),h=n(21),_=n(6),y=n(54),v=n(4),b=n(22),g=n(7);!function(e){e[e.READY=0]="READY",e[e.DONE=1]="DONE",e[e.SENDING=2]="SENDING",e[e.SENDED=3]="SENDED",e[e.COMPLETE=4]="COMPLETE"}(c||(c={}));var w=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=r(t).call(this,e),(n=!a||"object"!==s(a)&&"function"!=typeof a?o(i):a)._focusIdx=-1,n._result="",n._view_ox=!1,n._state=0,n._inputs=[],n._results=[],n._inputWrong=[],n._stime=0,n._onRef=function(e,t){n.props.view&&(n._inputs[e]=t)},n._onFocus=function(e){n.props.view&&n._focusIdx!==e&&(n._focusIdx=e)},n._onPrev=function(e){if(n.props.view&&!(e<=0)){var t=n._inputs[e-1];if(t&&t.ipt){var i=t.ipt.value;t.ipt.selectionStart=i.length,t.ipt.selectionEnd=i.length,n._focusIdx=e-1,t.ipt.focus()}}},n._onNext=function(e){if(n.props.view&&!(e>=n._inputs.length-1)){var t=n._inputs[e+1];if(t&&t.ipt){t.ipt.value;t.ipt.selectionStart=0,t.ipt.selectionEnd=0,n._focusIdx=e+1,t.ipt.focus()}}},n._onDone=function(e){return l(o(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.view){e.next=2;break}return e.abrupt("return");case 2:v.App.pub_playCorrect(),h.state.state="hide",this._state=1;case 5:case"end":return e.stop()}},e,this)}))},n._onChange=function(e,t){0===n._stime&&(n._stime=Date.now());for(var i=!0,r=n.props.entry.split(""),o=0;o<n._inputs.length;o++){var a=r[o],s=n._inputs[o];if(0===(s&&s.ipt?s.ipt.value:"").length&&" "!==a){i=!1;break}}h.state.disableDone=!i},n._onSend=function(){return l(o(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,r,o,a,s,u,l,c,p,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.view){e.next=4;break}return e.abrupt("return");case 4:if(1===this._state){e.next=6;break}return e.abrupt("return");case 6:for(t=!0,n=!0,i=this.props.entry.split(""),r=0;r<this._inputs.length;r++)o=i[r],a=this._inputs[r],s=a&&a.ipt?a.ipt.value:"",t&&0===s.length&&" "!==o&&(t=!1,n=!1),this._results[r]=" "===o&&0===s.length||s===o,this._results[r]?this._inputWrong[r]="":(this._inputWrong[r]=s,n=!1);if(t){e.next=12;break}return e.abrupt("return");case 12:return v.App.pub_playGoodjob(),this.props.actions.startGoodJob(),e.next=16,_.wait(3e3);case 16:if(t){if(this._state=2,v.App.student){for(u="",l=0;l<this._inputs.length;l++)c=this._inputs[l],u+=c&&c.ipt?c.ipt.value:"";p={msgtype:"spelling_return",id:v.App.student.id,isCorrect:n,stime:this._stime,etime:Date.now(),word_idx:this.props.actions.getWord().idx,user_input:u},g.sendTeacher(11,p)}for(this._state=3,f=0;f<this._inputs.length;f++)(m=this._inputs[f])&&m.ipt&&(m.ipt.value=i[f]);this._focusIdx=-1,h.state.disableDone=!0,n?(this._view_ox=!0,this._result="correct",v.App.pub_playCorrect()):(this._view_ox=!0,this._result="wrong",v.App.pub_playWrong())}return e.next=19,_.wait(1800);case 19:this._view_ox=!1;case 20:case"end":return e.stop()}},e,this)}))},h.state.state="on",n}var n,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,p.Component),n=t,(u=[{key:"componentWillUpdate",value:function(e){if(e.entry!==this.props.entry){for(;this._inputs.length>0;)this._inputs.pop();for(;this._results.length>0;)this._results.pop();for(;this._inputWrong.length>0;)this._inputWrong.pop()}}},{key:"componentDidUpdate",value:function(e){if(this.props.view&&!e.view)h.state.state="on",h.state.capslock=!1,h.state.disableDone=!0,this._view_ox=!1,this._result="",this._focusIdx=0,this._state=0,this._stime=0;else if(!this.props.view&&e.view)for(h.state.state="hide",h.state.capslock=!1,h.state.disableDone=!1,this._focusIdx=-1,this._view_ox=!1,this._result="";this._inputs.length>0;)this._inputs.pop()}},{key:"render",value:function(){var e,t,n=this;this.props.view?e=this.props.entry.split(""):(e=[],(t={}).zIndex=-1,t.visibility="hidden",t.pointerEvents="none",t.color="rgb(250,0,0)");var i=e.length,r="underline_L";return i>13?r="underline_XS":i>10?r="underline_S":i>7&&(r="underline_M"),p.createElement("div",{className:"s_voca_typing",style:t},p.createElement("div",{className:"typing_box "+h.state.state},e.map(function(e,t){var i="";return"wrong"===n._result&&t<n._results.length&&(n._results[t]||(i=" wrong")),p.createElement(y.default,{key:t,tabIndex:t,className:r+i,on:t===n._focusIdx,maxLength:1,disabled:""!==n._result,onRef:n._onRef,onFocus:n._onFocus,onPrev:n._onPrev,onNext:n._onNext,onEnter:n._onNext,onDone:n._onDone,onChange:n._onChange})}),p.createElement("div",{className:"answer",hidden:"wrong"!==this._result},this._inputWrong.map(function(e,t){var i="";return"wrong"===n._result&&t<n._results.length&&(n._results[t]||(i=" wrong")),p.createElement("span",{key:t,className:r+i},e)})),p.createElement("div",{className:"icon_answer correct"+(this._view_ox&&"correct"===this._result?" on":"")}),p.createElement("div",{className:"icon_answer wrong"+(this._view_ox&&"wrong"===this._result?" on":"")})),p.createElement(h.Keyboard,null),p.createElement(b.default,{type:"pad",view:1===this._state,sended:3===this._state,originY:0,onSend:this._onSend}))}}])&&i(n.prototype,u),c&&i(n,c),t}();u([d.observable],w.prototype,"_focusIdx",void 0),u([d.observable],w.prototype,"_result",void 0),u([d.observable],w.prototype,"_view_ox",void 0),u([d.observable],w.prototype,"_state",void 0),w=u([f.observer],w);var E=m.useStudent(function(e){return p.createElement(f.Observer,null,function(){var t="content"===e.state.viewDiv&&"spelling"===e.state.prog,n="";return t&&(n=e.actions.getWord().entry),p.createElement(w,{view:t,entry:n,actions:e.actions,state:e.state})})});t.default=E},function(e,t,n){},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),p=n(1),f=n(21),m=n(6),d=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=r(t).apply(this,arguments),(e=!i||"object"!==s(i)&&"function"!=typeof i?o(n):i)._ipt=null,e._onRef=function(t){!e._ipt&&t&&(e._ipt=t,e.props.on&&document.activeElement!==e._ipt&&e._ipt.focus(),e.props.onRef&&e.props.onRef(e.props.tabIndex,o(e)))},e._onSelect=function(){e._ipt&&(e._ipt.selectionStart=e._ipt.selectionEnd)},e._onKeyDown=function(e){e.preventDefault()},e._onKeyUp=function(e){e.preventDefault()},e._onKeyPress=function(e){e.preventDefault()},e._onChange=function(t){e.props.onChange&&e.props.onChange(e.props.tabIndex,t)},e._onPrev=function(){e.props.onPrev&&e.props.onPrev(e.props.tabIndex)},e._onNext=function(){e.props.onNext&&e.props.onNext(e.props.tabIndex)},e._onEnter=function(){e.props.onEnter&&e.props.onEnter(e.props.tabIndex)},e._onDone=function(){e.props.onDone&&e.props.onDone(e.props.tabIndex)},e._onFocus=function(t){f.setInputs(e._ipt,e.props.maxLength),f.setCallback(e._onChange,e._onPrev,e._onNext,e._onDone,e._onEnter),e.props.onFocus&&e.props.onFocus(e.props.tabIndex)},e._onBlur=function(t){e._focus()},e}var n,u,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,c.Component),n=t,(u=[{key:"componentWillMount",value:function(){this.props.onRef&&this.props.onRef(this.props.tabIndex,this)}},{key:"_focus",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.wait(10);case 2:this.props.on&&this._ipt&&document.activeElement!==this._ipt&&this._ipt.focus();case 3:case"end":return e.stop()}},e,this)}))}},{key:"componentDidUpdate",value:function(e){this.props.on&&!e.on&&this._ipt&&document.activeElement!==this._ipt&&this._ipt.focus(),this.props.value&&this.props.value!==e.value&&this._ipt&&(this._ipt.value=this.props.value)}},{key:"render",value:function(){var e=this.props,t=(e.on,e.className),n=e.maxLength,i=e.tabIndex,r=e.disabled;return c.createElement("input",{ref:this._onRef,type:"text",className:t,tabIndex:i,maxLength:n,size:n,disabled:r,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",unselectable:"on",autoFocus:!1,spellCheck:!1,onFocus:this._onFocus,onBlur:this._onBlur,onSelect:this._onSelect,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress})}},{key:"ipt",get:function(){return this._ipt}}])&&i(n.prototype,u),p&&i(n,p),t}();d=u([p.observer],d),t.default=d},function(e,t){e.exports=ReactDraggable},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l,c=n(0),p=n(2),f=n(1),m=n(5),d=n(8),h=n(22),_=n(4),y=n(57),v=n(20),b=n(7),g=n(10),w=n(16),E=30;function k(e){e=Math.ceil(e/1e3);var t=Math.floor(e/60),n=e%60;return(t<10?"0"+t:""+t)+":"+(n<10?"0"+n:""+n)}!function(e){e[e.VIEW=0]="VIEW",e[e.READY=1]="READY",e[e.WAIT_START=2]="WAIT_START",e[e.RECORDING=3]="RECORDING",e[e.WAIT_END=4]="WAIT_END",e[e.RECORDED=5]="RECORDED",e[e.SENDING=6]="SENDING",e[e.SENDED=7]="SENDED"}(l||(l={}));var T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,o(t).call(this,e)))._video=new y.MPlayer(new y.MConfig(!0)),n._audio=new y.MPlayer(new y.MConfig(!0)),n._state=0,n._time=0,n._hideContents=!1,n._playCnt=0,n._recorded="",n._loaded=!1,n._mediaType="audio",n._stime=0,n._countDown=function(e){if(n.props.view&&3===n._state){if(n._time=(Date.now()-n._stime)/1e3,n._time>E)return n._time=E,void n._onStopRecord();window.requestAnimationFrame(n._countDown)}},n._onStartRecord=function(){n.props.view&&(1!==n._state&&5!==n._state||(n._video.pause(),n._audio.pause(),n._time=0,n._state=2,n.props.actions.onStartRecord(),_.App.isDvlp||("video"===n.props.mediaType?b.startVideoRecord():b.startVoiceRecord())))},n._onStopRecord=function(){n.props.view&&(3!==n._state&&2!==n._state||n._time>=0&&n._time<=2||(3===n._state?(n._state=4,n.props.actions.onStopRecord()):n._recorded&&""!==n._recorded?n._state=5:n._state=1,_.App.isDvlp||("video"===n.props.mediaType?b.stopVideoRecord():b.stopVoiceRecord())))},n._onSend=function(){n.props.view&&5===n._state&&(n._state=6,n.props.actions.onUploadMedia(n.props.recorded),n.props.actions.setLoading(!0),_.App.pub_playToPad(),_.App.isDvlp||b.uploadFileToServer(n.props.recorded))},n._onPlayStop=function(){n.props.view&&(n._state<5||(n._playCnt++,n._player.bPlay?n._player.pause():n._player.play()))},n._startedRecord=function(){n.props.view&&2===n._state&&(n._stime=Date.now(),n._time=0,n._state=3,window.requestAnimationFrame(n._countDown))},n._stopedRecord=function(){n.props.view&&4===n._state&&(n._recorded&&""!==n._recorded?n._state=5:n._state=1)},n._refVideo=function(e){!n._video.media&&e&&(n._video.mediaInited(e),n._video.addOnState(function(e,t){3===e&&(n._loaded=!0,n._video.gotoAndPause(0))}))},n._refAudio=function(e){!n._audio.media&&e&&n._audio.mediaInited(e)},n._onContents=function(){n.props.view&&(n._state<7||(n._hideContents=!n._hideContents))},n._onEntry=function(){n.props.view},n._onSentence=function(){n.props.view},n._jsx=n._getJSX(e.word.sentence),n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,c.Component),n=t,(s=[{key:"_getJSX",value:function(e){var t=v.parseBlock(e,"block");return c.createElement(c.Fragment,null,t.map(function(e){return e}))}},{key:"componentWillReceiveProps",value:function(e){e.word!==this.props.word&&(this._jsx=this._getJSX(e.word.sentence))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.view){if(this.props.notice!==e.notice)switch(this.props.notice){case"notifyStartVoice":"audio"===this.props.mediaType&&2===this._state&&this._startedRecord();break;case"notifyStartVideoRecord":"video"===this.props.mediaType&&2===this._state&&this._startedRecord();break;case"notifyStopCamera":break;case"notifyVideoRecordCanceled":case"notifyStopVideoRecord":m.delay(this._stopedRecord,300)}if(this.props.recorded!==e.recorded&&4===this._state&&(""!==this.props.recorded&&(this._loaded=!1,this._player.unload(),this._playCnt=0,this._recorded=this.props.recorded,this._player.load(this._recorded)),this._recorded&&""!==this._recorded?this._state=5:this._state=1),this.props.uploaded!==e.uploaded&&this.props.uploaded&&""!==this.props.uploaded&&6===this._state){if(this.props.actions.startGoodJob(),this._state=7,this.props.actions.setLoading(!1),_.App.student){var n={msgtype:"recorded_return",id:_.App.student.id,url:this.props.uploaded,stime:this._stime,etime:this._stime+1e3*this._time,word_idx:this.props.word.idx};"video"===this.props.mediaType?b.uploadStudentReport(5,this.props.uploaded,""):b.uploadStudentReport(4,this.props.uploaded,""),b.sendTeacher(11,n)}_.App.pub_playGoodjob(),this.props.actions.startGoodJob()}if(!e.view&&(this._state=1,"video"===this.props.mediaType)){b.startCamera();var i=document.getElementById("wrap");i&&(i.style.backgroundImage="unset",i.style.backgroundColor="transparent")}}else if(!this.props.view&&e.view){var r=e.mediaType;3!==this._state&&2!==this._state||("video"===r?b.stopVideoRecord():b.stopVoiceRecord()),this._video.unload(),this._audio.unload(),this._loaded=!1,this._state=0,this._time=0,this._recorded="",this._playCnt=0,this._hideContents=!1;var o=document.getElementById("wrap");o&&(o.style.backgroundImage="",o.style.backgroundColor=""),m.delay(function(){t.props.view||"video"!==r||b.stopCamera()},300)}}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.mediaType,i=e.notice,r=e.recorded,o=e.uploaded,a=e.likeOn,s=e.word,u=" "+n;7===this._state&&a&&(u+=" like-on"),this._hideContents&&(u+=" hide-contents"),t||(u+=" hide");var l="";if(this._state>=2&&this._state<=4)l=k(1e3*Math.floor(this._time))+" / 00:30";else if(this._state>=5){var p=this._player.duration/1e3;if(p>E&&(p=E),this._playCnt>0){var f=this._player.viewTime/1e3;f>E&&(f=E),l=k(1e3*Math.floor(f))+" / "+k(1e3*Math.floor(p))}else l=k(1e3*Math.floor(p))}return s.entry.length>14?"80px":s.entry.length>10&&"90px",c.createElement("div",{className:"s-speak-record"+u},c.createElement("div",{hidden:!0},i+","+r+","+o),c.createElement("img",{className:"word-image",src:t?_.App.data_url+s.image_pad:"",draggable:!1,style:{display:"video"===n&&this._state>=2?"none":""}}),c.createElement("div",{className:"media-box"},c.createElement("div",{className:"s-menu"},c.createElement("video",{controls:!1,style:{opacity:this._loaded?1:0},autoPlay:!1,ref:this._refVideo,hidden:"video"!==n||this._state<5,poster:"/content/digenglish_lib/B/ls_voca/student/images/allalpha.png"}),c.createElement("audio",{controls:!1,autoPlay:!1,ref:this._refAudio,hidden:"audio"!==n}),c.createElement("div",{className:"btn-box"},c.createElement("div",{className:"left_box",hidden:this._state<7},c.createElement(d.ToggleBtn,{className:"btn_script",view:"video"===n,on:this._hideContents,onClick:this._onContents})),c.createElement("div",{className:"center-box"},c.createElement(d.ToggleBtn,{view:1===this._state||5===this._state,className:"btn_record "+n,onClick:this._onStartRecord}),c.createElement(d.ToggleBtn,{view:this._state>1&&this._state<5,className:"btn_record_stop"+(this._time>=0&&this._time<=2?" noactive":""),onClick:this._onStopRecord}),c.createElement(d.ToggleBtn,{view:this._state>=5,className:"btn_play_pause"+(this._player.bPlay?" play":""),onClick:this._onPlayStop})),c.createElement("span",{className:"time-box",hidden:this._state<=1},c.createElement("img",{draggable:!1,hidden:this._state<2||this._state>4,src:"/content/digenglish_lib/B/ls_voca/student/images/icon_recording.png"}),l))),c.createElement(h.default,{type:"pad",view:this.props.view&&this.props.bRecordSend&&this._state>=5,sended:7===this._state,originY:0,onSend:this._onSend})),c.createElement("div",{className:"content-box"+("video"===n&&this._state>=2?" hide-bg":"")},c.createElement("div",{className:"entry_box",style:{opacity:this._hideContents?0:1},onClick:this._onEntry},c.createElement("div",{className:"speak_entry"},c.createElement(w.default,{maxSize:100,minSize:60,view:t},s.entry))),c.createElement("div",{className:"sentence_box",style:{opacity:this._hideContents?0:1},onClick:this._onSentence},c.createElement("div",{className:"speak_sentence"},c.createElement(w.default,{maxSize:55,minSize:52,view:t},this._jsx)))))}},{key:"_player",get:function(){return"video"===this.props.mediaType?this._video:this._audio}}])&&i(n.prototype,s),u&&i(n,u),t}();u([p.observable],T.prototype,"_state",void 0),u([p.observable],T.prototype,"_time",void 0),u([p.observable],T.prototype,"_hideContents",void 0),u([p.observable],T.prototype,"_playCnt",void 0),u([p.observable],T.prototype,"_recorded",void 0),u([p.observable],T.prototype,"_loaded",void 0),u([p.action],T.prototype,"_countDown",void 0),u([p.action],T.prototype,"_startedRecord",void 0),u([p.action],T.prototype,"_stopedRecord",void 0),T=u([f.observer],T);var x=g.useStudent(function(e){return c.createElement(f.Observer,null,function(){var t="content"===e.state.viewDiv&&"record"===e.state.prog,n=e.actions.getWord();return c.createElement(T,{view:t,word:n,mediaType:e.state.mediaType,bRecordSend:e.state.bRecordSend,recorded:e.state.recorded,uploaded:e.state.uploaded,notice:e.state.notice,likeOn:e.state.likeSet.on,actions:e.actions})})});t.default=x},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var u,l,c,p,f,m,d,h=n(2);!function(e){e.STRETCH="stretch",e.LETTERBOX="letterbox"}(u||(u={})),function(e){e.NONE="none",e.METADATA="metadata",e.AUTO="auto"}(l||(l={})),function(e){e.ORGIN="origin",e.TRANS="trans",e.ALL="all",e.NONE="none"}(c||(c={})),function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.PLAYBACK_ERROR=2]="PLAYBACK_ERROR",e[e.READY=3]="READY",e[e.STANDBY=4]="STANDBY",e[e.BUFFERING=5]="BUFFERING",e[e.PAUSED=6]="PAUSED",e[e.PLAYING=7]="PLAYING"}(p||(p={})),t.MPRState=p,function(e){e[e.UNSET=-1]="UNSET",e[e.CAN_NOT_ALL_DIR=1]="CAN_NOT_ALL_DIR",e[e.CAN_NOT_NEXT_DIR=2]="CAN_NOT_NEXT_DIR",e[e.CAN_ALL_DIR=10]="CAN_ALL_DIR"}(f||(f={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(m||(m={})),function(e){e[e.NETWORK_EMPTY=0]="NETWORK_EMPTY",e[e.NETWORK_IDLE=1]="NETWORK_IDLE",e[e.NETWORK_LOADING=2]="NETWORK_LOADING",e[e.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(d||(d={}));var _=function(){function e(t){i(this,e),this.defaultVolume=100,this.lenOfFvlToFile=25165824,this.sections=[],this.isVideo=t,this.autoPlay=!1,this.controlBox=!0,this.typeOfPosByMouse=10,this.loop=1,this.preload="auto",this.scaleMode="stretch",this.bgColor=-1,this.initTime=0,this.startTime=0,this.endTime=0,this.chkTime=250,this.playBtn=!0,this.closeBtn=!1,this.popupBtn=!1,this.fullscreenBtn=!0,this.volumeBtn=!0,this.centerPlayBtn=!0,this.centerLoading=!0,this.mousePlayPause=!0,this.bDoFullscreen=!0,this.volumeBox=!0,this.speedBtn=!1,this.scroller=!0,this.togglePlayBtn=!0,this.autoBtn=!1,this.langBtn=!1,this.menuOverlap=!0,this.haveScript=!1,this.viewScriptBox=!1,this.bScriptBtn=!1,this.scriptViewLang="none",this.etcData=""}return o(e,[{key:"isLoadControls",value:function(e){return this.controlBox||e&&(this.centerPlayBtn||this.centerLoading||this.viewScriptBox)}},{key:"pcGetURL",value:function(e){return e}},{key:"clone",value:function(){var t=new e(this.isVideo);return t.copy(this),t}},{key:"copy",value:function(e){this.autoPlay=e.autoPlay,this.controlBox=e.controlBox,this.typeOfPosByMouse=e.typeOfPosByMouse,this.loop=e.loop,this.preload=e.preload,this.scaleMode=e.scaleMode,this.bgColor=e.bgColor,this.initTime=e.initTime,this.startTime=e.startTime,this.endTime=e.endTime,this.chkTime=e.chkTime,this.playBtn=e.playBtn,this.closeBtn=e.closeBtn,this.popupBtn=e.popupBtn,this.fullscreenBtn=e.fullscreenBtn,this.volumeBtn=e.volumeBtn,this.centerPlayBtn=e.centerPlayBtn,this.centerLoading=e.centerLoading,this.mousePlayPause=e.mousePlayPause,this.volumeBox=e.volumeBox,this.speedBtn=e.speedBtn,this.scroller=e.scroller,this.togglePlayBtn=e.togglePlayBtn,this.autoBtn=e.autoBtn,this.langBtn=e.langBtn,this.menuOverlap=e.menuOverlap,this.haveScript=e.haveScript,this.viewScriptBox=e.viewScriptBox,this.bScriptBtn=e.bScriptBtn,this.scriptViewLang=e.scriptViewLang,this.defaultVolume=e.defaultVolume,this.etcData=e.etcData}},{key:"isMobile",get:function(){return!1}},{key:"iskdmPC",get:function(){return!1}}]),e}();t.MConfig=_;var y=function(){function e(t){i(this,e),this.m_media=null,this.m_url=null,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_onstates=[],this.m_ontimes=[],this.m_onends=[],this.m_onendtemps=[],this.m_bPlay=!1,this.m_myState=0,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this.m_config=t,this.m_bPlay=t.autoPlay,this.m_startTime=t.startTime,this.m_endTime=t.endTime,this.mediaInited=this.mediaInited.bind(this),this._onTime=this._onTime.bind(this)}return o(e,[{key:"setStartEndTime",value:function(e,t){this.m_startTime=e,this.m_endTime=t}},{key:"setMuted",value:function(e){this.m_muted=e,this.m_media&&(this.m_media.muted=e)}},{key:"setMutedTemp",value:function(e){this.m_media&&(this.m_media.muted=e)}},{key:"_initTemp",value:function(){this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0}},{key:"play",value:function(){this.m_bPlay=!0,this._initTemp(),this.m_playEnded&&this.m_media&&this.m_myState>=3&&(this.m_media.currentTime=this.m_startTime/1e3),this.m_playEnded=!1,this._playOrPause()}},{key:"pause",value:function(){this.m_bPlay=!1,this._initTemp(),this._playOrPause()}},{key:"start",value:function(){this.seek(0),this.play()}},{key:"seek",value:function(e){if(!this.m_media||this.m_myState<3)this.m_seekTime=e;else{if(this._initTemp(),this.m_seekTime=-1,isNaN(e)||e<0)e=0;else if(e>=this.m_duration-100)return e=this.m_duration,void this._playEnded();this.m_playEnded=!1,this.m_media.currentTime=(this.m_startTime+e)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime}}},{key:"gotoAndPlay",value:function(e,t,n){if(this.m_standBy=!1,!this.m_media||this.m_duration<=0)return this._load(),this.m_bPlay_temp=!0,this.m_startTime_temp=e,this.m_endTime_temp=t,void(this.m_loop_temp=n);this.m_playEnded=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=e,this.m_endTime_temp=t,e=e>=0?e:this.currentTime,t=t>=0&&t<this.m_duration?t:this.m_duration,this.m_bPlay=!0,e>=t||n<=0?(this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0):(this.m_endTime_temp>=this.m_duration&&(this.m_endTime_temp=-1),this.m_loop_temp=n,this.m_loopCnt_temp=0,this.m_startTime_temp>=0&&(this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime)),this._playOrPause()}},{key:"gotoAndPause",value:function(e){this.m_bPlay=!1,this._initTemp(),this.m_media&&(e=e>=0&&e<this.m_duration?e:this.currentTime,this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime,this._playOrPause())}},{key:"connect",value:function(){if(this.m_media){this.m_media;this.m_url&&this.m_myState>=1&&3===this.m_media.networkState&&0===this.m_media.readyState&&(this.m_media.src=this.m_url,this.m_media.load())}}},{key:"unconnect",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_myState>=3&&(this.m_seekTime=1e3*this.m_media.currentTime-this.m_startTime),this.m_media.src="",this.m_media.load()))}},{key:"_load",value:function(){this.m_media&&this.m_url&&this.m_myState<1&&(this._setState(1),this.m_media.src=this.m_url,this.m_media.load())}},{key:"load",value:function(e){this.m_url=e,this._load()}},{key:"unload",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_media.src="",this.m_media.load())),this.m_url=null,this.m_bPlay=!1,this.m_bPlay_temp=!1,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this._setState(0)}},{key:"_setState",value:function(e){if(this.m_myState!==e){7===e?this.m_onTimer<0&&(this.m_onTimer=window.requestAnimationFrame(this._onTime)):6===e&&this.m_onTimer>=0&&(window.cancelAnimationFrame(this.m_onTimer),this.m_onTimer=-1);var t=this.m_myState;this.m_myState=e;for(var n=0,i=this.m_onstates.length;n<i;n++)this.m_onstates[n](e,t)}}},{key:"_playOrPause",value:function(){var e=this;if(this.m_media&&!(this.m_myState<3))if(this.m_bPlay){if(this._setState(7),this.m_media.paused){var t=this.m_media.play();t&&t.then(function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()}).catch(function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()})}}else this._setState(6),this.m_media.paused||this.m_media.pause()}},{key:"_onTimeUpdate",value:function(){if(this.m_media){var e=1e3*this.m_media.currentTime;if(this.m_loop_temp>0&&this.m_bPlay)if(e<this.m_startTime)e=this.m_startTime;else if(this.m_endTime_temp>0&&e>=this.m_endTime_temp+this.m_startTime){this.m_currentTime=this.m_endTime_temp,this.m_viewTime=this.m_currentTime;for(var t=0,n=this.m_ontimes.length;t<n;t++)this.m_ontimes[t](this.m_currentTime);this._playEnded()}else{this.m_currentTime=e-this.m_startTime;for(var i=0,r=this.m_ontimes.length;i<r;i++)this.m_ontimes[i](this.m_currentTime)}else if(e<this.m_startTime)e=this.m_startTime;else{if(this.m_endTime>0&&e>=this.m_endTime){this.m_currentTime=this.m_endTime-this.m_startTime,this.m_viewTime=this.m_currentTime;for(var o=0,a=this.m_ontimes.length;o<a;o++)this.m_ontimes[o](this.m_currentTime);return void this._playEnded()}this.m_currentTime=e-this.m_startTime;for(var s=0,u=this.m_ontimes.length;s<u;s++)this.m_ontimes[s](this.m_currentTime)}}}},{key:"_playEnded",value:function(){if(this.m_media&&!this.m_playEnded)if(this.m_loop_temp>0&&this.m_bPlay){if(this.m_loopCnt_temp++,this.m_endTime_temp<=0){this.m_bPlay=!1;for(var e=0,t=this.m_onends.length;e<t;e++)this.m_onends[e]()}if(this.m_loopCnt_temp<this.m_loop_temp){var n=this.m_startTime_temp>=0&&this.m_startTime_temp<this.m_duration?this.m_startTime_temp:0;this.m_media.currentTime=(n+this.m_startTime)/1e3,this.m_media.paused&&this.m_media.play()}else{this.m_media.paused||this.m_media.pause(),this.m_bPlay=!1;for(var i=0,r=this.m_onendtemps.length;i<r;i++)this.m_onendtemps[i]()}}else{for(var o=0,a=this.m_onends.length;o<a;o++)this.m_onends[o]();0===this.m_config.loop&&this.m_bPlay?(this.m_media.currentTime=this.m_startTime/1e3,this.m_media.paused&&this.m_media.play()):(this.m_playEnded=!0,this.m_bPlay=!1,this.m_media.paused||this.m_media.pause(),1e3*this.m_media.currentTime<this.m_maxTime-100&&(this.m_media.currentTime=this.m_maxTime/1e3),this.m_currentTime=this.m_maxTime-this.m_startTime,this.m_viewTime=this.m_currentTime,this._setState(6))}}},{key:"reset",value:function(){}},{key:"_onTime",value:function(e){this.m_onTimer>=0&&(this._onTimeUpdate(),this.m_onTimer=window.requestAnimationFrame(this._onTime))}},{key:"mediaInited",value:function(e){var t=this;if(!this.m_media&&e){this.m_media=e;var n=function(n){if(t.m_media){t.m_config;e.duration>0&&(t.m_maxTime<=0?(t.m_maxTime=1e3*e.duration,t.m_endTime>=t.m_maxTime?t.m_endTime=0:t.m_endTime>0&&(t.m_maxTime=t.m_endTime),(t.m_startTime<0||t.m_startTime>=t.m_maxTime)&&(t.m_startTime=0),t.m_duration=t.m_maxTime-t.m_startTime,t.m_bPlay_temp?(t._setState(3),t.gotoAndPlay(t.m_startTime_temp,t.m_endTime_temp,t.m_loop_temp)):t.m_seekTime>0&&t.m_seekTime<t.m_duration?(t._setState(3),t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3):0===t.m_startTime?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3,t.m_seekTime=-1):t.m_seekTime>=0&&(t.m_seekTime<t.m_duration&&(t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3),t.m_seekTime=-1))}};e.onabort=function(e){console.log("onabort")},e.oncanplay=n,e.oncanplaythrough=n,e.ondurationchange=n,e.onloadeddata=n,e.onloadedmetadata=n,e.onerror=function(e){1===t.m_myState&&t._setState(2)},e.onended=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._playEnded())},e.onpause=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._setState(6))},e.onplaying=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||!t.m_bPlay?t.m_media.paused||t.m_media.pause():t._setState(7))},e.onseeking=function(e){!t.m_media||t.m_maxTime<=0||t.m_myState>=3&&t._setState(5)},e.onseeked=function(e){if(t.m_media&&!(t.m_maxTime<=0))if(t.m_myState>=3)t._playOrPause();else if(t.m_myState<3&&t.m_startTime>0){Math.abs(t.m_startTime-1e3*t.m_media.currentTime)<100?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3}},e.ontimeupdate=function(e){t.m_myState<=2||(t._onTimeUpdate(),t.m_viewTime=t.m_currentTime)},this._load()}}},{key:"addOnState",value:function(e){this.m_onstates.indexOf(e)>=0||this.m_onstates.push(e)}},{key:"removeOnState",value:function(e){var t=this.m_onstates.indexOf(e);t<0||this.m_onstates.splice(t,1)}},{key:"addOnTime",value:function(e){this.m_ontimes.indexOf(e)>=0||this.m_ontimes.push(e)}},{key:"removeOnTime",value:function(e){var t=this.m_ontimes.indexOf(e);t<0||this.m_ontimes.splice(t,1)}},{key:"addOnPlayEnd",value:function(e){this.m_onends.indexOf(e)>=0||this.m_onends.push(e)}},{key:"removeOnPlayEnd",value:function(e){var t=this.m_onends.indexOf(e);t<0||this.m_onends.splice(t,1)}},{key:"addOnPlayEndTemp",value:function(e){this.m_onendtemps.indexOf(e)>=0||this.m_onendtemps.push(e)}},{key:"removeOnPlayEndTemp",value:function(e){var t=this.m_onendtemps.indexOf(e);t<0||this.m_onendtemps.splice(t,1)}},{key:"bPlay",get:function(){return this.m_bPlay}},{key:"myState",get:function(){return this.m_myState}},{key:"duration",get:function(){return this.m_duration}},{key:"muted",get:function(){return this.m_muted}},{key:"viewTime",get:function(){return this.m_viewTime}},{key:"media",get:function(){return this.m_media}},{key:"config",get:function(){return this.m_config}},{key:"currentTime",get:function(){return this.m_currentTime}}]),e}();s([h.observable],y.prototype,"m_bPlay",void 0),s([h.observable],y.prototype,"m_myState",void 0),s([h.observable],y.prototype,"m_duration",void 0),s([h.observable],y.prototype,"m_viewTime",void 0),s([h.observable],y.prototype,"fullscreen",void 0),s([h.observable],y.prototype,"m_muted",void 0),s([h.computed],y.prototype,"bPlay",null),s([h.computed],y.prototype,"myState",null),s([h.computed],y.prototype,"duration",null),s([h.computed],y.prototype,"muted",null),s([h.computed],y.prototype,"viewTime",null),t.MPlayer=y},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(17),a=n(23),s=function(e){var t=[],n=null,i=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];t=r,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i},u=n(3);var l=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},c=n(24),p="object"==typeof self&&self&&self.Object===Object&&self,f=c.a||p||Function("return this")(),m=function(){return f.Date.now()},d=f.Symbol,h=Object.prototype,_=h.hasOwnProperty,y=h.toString,v=d?d.toStringTag:void 0;var b=function(e){var t=_.call(e,v),n=e[v];try{e[v]=void 0;var i=!0}catch(e){}var r=y.call(e);return i&&(t?e[v]=n:delete e[v]),r},g=Object.prototype.toString;var w=function(e){return g.call(e)},E="[object Null]",k="[object Undefined]",T=d?d.toStringTag:void 0;var x=function(e){return null==e?void 0===e?k:E:T&&T in Object(e)?b(e):w(e)};var S=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var P=function(e){return"symbol"==typeof e||S(e)&&x(e)==O},N=NaN,C=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,z=/^0o[0-7]+$/i,D=parseInt;var A=function(e){if("number"==typeof e)return e;if(P(e))return N;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(C,"");var n=R.test(e);return n||z.test(e)?D(e.slice(2),n?2:8):j.test(e)?N:+e},I="Expected a function",M=Math.max,q=Math.min;var B=function(e,t,n){var i,r,o,a,s,u,c=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(I);function h(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=o}function y(){var e=m();if(_(e))return v(e);s=setTimeout(y,function(e){var n=t-(e-u);return f?q(n,o-(e-c)):n}(e))}function v(e){return s=void 0,d&&i?h(e):(i=r=void 0,a)}function b(){var e=m(),n=_(e);if(i=arguments,r=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(y,t),p?h(e):a}(u);if(f)return s=setTimeout(y,t),h(u)}return void 0===s&&(s=setTimeout(y,t)),a}return t=A(t)||0,l(n)&&(p=!!n.leading,o=(f="maxWait"in n)?M(A(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=u=r=s=void 0},b.flush=function(){return void 0===s?a:v(m())},b},L="Expected a function";var H=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(L);return l(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),B(e,t,{leading:i,maxWait:t,trailing:r})},U={debounce:B,throttle:H},F=function(e){return U[e]},G=function(e){return"function"==typeof e},W=function(){return"undefined"==typeof window};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function K(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,Q(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,i["PureComponent"]),n=t,(r=[{key:"render",value:function(){return this.props.children}}])&&Y(n.prototype,r),o&&Y(n,o),t}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(e){var n,r,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,u=ee(t).call(this,e),n=!u||"object"!==$(u)&&"function"!=typeof u?te(r):u,ie(te(n),"cancelHandler",function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)}),ie(te(n),"rafClean",function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)}),ie(te(n),"toggleObserver",function(e){var t=n.getElement();t&&n.resizeObserver[e]&&n.resizeObserver[e](t)}),ie(te(n),"getElement",function(){var e=n.props.querySelector;if(!W()){if(e)return document.querySelector(e);var t=n.element&&Object(o.findDOMNode)(n.element);if(t)return t.parentElement}}),ie(te(n),"createUpdater",function(){return n.rafClean(),n.raf=s(function(e){var t=e.width,i=e.height,r=n.props.onResize;G(r)&&r(t,i),n.setState({width:t,height:i})}),n.raf}),ie(te(n),"createResizeHandler",function(e){var t=n.state,i=t.width,r=t.height,o=n.props,a=o.handleWidth,s=o.handleHeight;if(a||s){var u=n.createUpdater();e.forEach(function(e){var t=e&&e.contentRect||{},o=t.width,l=t.height,c=a&&i!==o||s&&r!==l;!n.skipOnMount&&c&&!W()&&u({width:o,height:l}),n.skipOnMount=!1})}}),ie(te(n),"onRef",function(e){n.element=e}),ie(te(n),"getRenderType",function(){var e=n.props,t=e.render,r=e.children;return G(t)?"renderProp":G(r)?"childFunction":Object(i.isValidElement)(r)?"child":Array.isArray(r)?"childArray":"parent"}),ie(te(n),"getTargetComponent",function(){var e=n.props,t=e.render,r=e.children,o=e.nodeType,a=n.state,s={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(i.cloneElement)(t(s),{key:"resize-detector"});case"childFunction":return Object(i.cloneElement)(r(s));case"child":return Object(i.cloneElement)(r,s);case"childArray":return r.map(function(e){return Object(i.cloneElement)(e,s)});default:return Object(i.createElement)(o)}});var l=e.skipOnMount,c=e.refreshMode,p=e.refreshRate,f=e.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=l,n.raf=null,n.element=null,n.unmounted=!1;var m=F(c);return n.resizeHandler=m?m(n.createResizeHandler,p,f):n.createResizeHandler,n.resizeObserver=new a.a(n.resizeHandler),n}var n,u,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,i["PureComponent"]),n=t,(u=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return r.a.createElement(X,{ref:this.onRef},this.getTargetComponent())}}])&&Z(n.prototype,u),l&&Z(n,l),t}();re.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},re.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,onResize:null,render:void 0,children:null,nodeType:"div"};var oe=re;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ue(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ue(this,le(o).apply(this,arguments))}var a,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(o,i.Component),a=o,(s=[{key:"render",value:function(){return r.a.createElement(oe,t,r.a.createElement(e,this.props))}}])&&se(a.prototype,s),u&&se(a,u),o}()};n.d(t,"withResizeDetector",function(){return pe});t.default=oe}]);